{"ast":null,"code":"var _jsxFileName = \"/home/webexpert/Desktop/colin/tes/src/App.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport \"./AuthForm.css\";\nimport { createUser, getAccessToken, makeSessionToken } from \"./api/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AuthForm() {\n  _s();\n  const [tokenForm, setTokenForm] = useState({\n    client_id: \"\",\n    client_secret: \"\"\n  });\n  const [userForm, setUserForm] = useState({\n    username: \"\",\n    email: \"\",\n    plaid_user_id: \"\"\n  });\n  const [manualWidgetForm, setManualWidgetForm] = useState({\n    userId: \"\",\n    access_token: \"\",\n    session_token: \"\"\n  });\n  const [userId, setUserId] = useState(\"\");\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [sessionToken, setSessionToken] = useState(\"\");\n  const [copiedField, setCopiedField] = useState(null);\n  const [errors, setErrors] = useState({});\n  const [widgetError, setWidgetError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [step, setStep] = useState(\"token\");\n  const [showClientAuthForm, setShowClientAuthForm] = useState(false);\n  const [showDirectConnect, setShowDirectConnect] = useState(false);\n  const handleTokenOrUserChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (step === \"token\") setTokenForm(prev => ({\n      ...prev,\n      [name]: value\n    }));else setUserForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setErrors(prev => ({\n      ...prev,\n      [name]: undefined\n    }));\n  };\n  const copyToClipboard = (value, field) => {\n    navigator.clipboard.writeText(value).then(() => setCopiedField(field));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setWidgetError(null);\n    if (step === \"token\") {\n      if (!tokenForm.client_id || !tokenForm.client_secret) {\n        setErrors({\n          client_id: !tokenForm.client_id ? \"Client ID is required\" : undefined,\n          client_secret: !tokenForm.client_secret ? \"Client Secret is required\" : undefined\n        });\n        setLoading(false);\n        return;\n      }\n      try {\n        const res = await getAccessToken(tokenForm.client_id, tokenForm.client_secret);\n        if (res) {\n          setAccessToken(res.access_token);\n          setStep(\"user\");\n        }\n        // else setWidgetError(res.error || \"Token fetch failed\");\n      } catch {\n        setWidgetError(\"Error fetching token\");\n      } finally {\n        setLoading(false);\n      }\n    } else if (step === \"user\") {\n      if (!userForm.username || !userForm.email || !userForm.plaid_user_id) {\n        setErrors({\n          username: !userForm.username ? \"Username is required\" : undefined,\n          email: !userForm.email ? \"Email is required\" : undefined,\n          plaid_user_id: !userForm.plaid_user_id ? \"Plaid User ID is required\" : undefined\n        });\n        setLoading(false);\n        return;\n      }\n      try {\n        const res = await createUser({\n          email: userForm.email,\n          username: userForm.username,\n          plaid_user_id: userForm.plaid_user_id\n        }, accessToken);\n        const data = res;\n        if (res) {\n          setUserId(data.userId);\n          setStep(\"session\");\n        } else setWidgetError(data.error || \"User creation failed\");\n      } catch {\n        setWidgetError(\"Error creating user\");\n      } finally {\n        setLoading(false);\n      }\n    } else if (step === \"session\") {\n      try {\n        const data = await makeSessionToken(userId, accessToken);\n        // const data = res;\n        if (data) {\n          setSessionToken(data.widget_session_token);\n          setStep(\"widget\");\n          setShowClientAuthForm(true);\n        } else {\n          setErrors({\n            session: data.error || \"Session creation failed\"\n          });\n        }\n      } catch {\n        setErrors({\n          session: \"Error creating session\"\n        });\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  useEffect(() => {\n    if (!showClientAuthForm) {\n      var _document$getElementB, _document$getElementB2, _document$getElementB3;\n      (_document$getElementB = document.getElementById(\"widget-script\")) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.remove();\n      (_document$getElementB2 = document.getElementById(\"widget-style\")) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.remove();\n      (_document$getElementB3 = document.getElementById(\"widget-container\")) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.remove();\n      return;\n    }\n    if (document.getElementById(\"widget-script\")) return;\n    const script = document.createElement(\"script\");\n    script.type = \"module\";\n    script.id = \"widget-script\";\n    script.src = \"http://localhost:5173/widgets/widgetLauncher.js\";\n    script.async = true;\n    script.setAttribute(\"data-userid\", userId);\n    script.setAttribute(\"data-access_token\", accessToken);\n    script.setAttribute(\"data-session_token\", sessionToken);\n    document.body.appendChild(script);\n    const link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    link.id = \"widget-style\";\n    link.href = \"http://localhost:5173/widgets/style.css\";\n    document.head.appendChild(link);\n    return () => {\n      var _document$getElementB4;\n      script.remove();\n      link.remove();\n      (_document$getElementB4 = document.getElementById(\"widget-container\")) === null || _document$getElementB4 === void 0 ? void 0 : _document$getElementB4.remove();\n    };\n  }, [showClientAuthForm, userId, accessToken, sessionToken]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-form-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"auth-form\",\n      children: [step === \"token\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Step 1: Get Access Token\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"client_id\",\n          placeholder: \"Client ID\",\n          value: tokenForm.client_id,\n          onChange: handleTokenOrUserChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), errors.client_id && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.client_id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"client_secret\",\n          placeholder: \"Client Secret\",\n          value: tokenForm.client_secret,\n          onChange: handleTokenOrUserChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), errors.client_secret && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.client_secret\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true), step === \"user\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Step 2: Create User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"username\",\n          placeholder: \"Username\",\n          value: userForm.username,\n          onChange: handleTokenOrUserChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), errors.username && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          placeholder: \"Email\",\n          value: userForm.email,\n          onChange: handleTokenOrUserChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"plaid_user_id\",\n          placeholder: \"Plaid User ID\",\n          value: userForm.plaid_user_id,\n          onChange: handleTokenOrUserChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), errors.plaid_user_id && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.plaid_user_id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true), step === \"session\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Step 3: Session Created\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"User ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 18\n            }, this), \" \", userId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Access Token:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 18\n            }, this), \" \", accessToken]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Session Token:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 18\n            }, this), \" \", sessionToken]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), errors.session && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error\",\n            children: errors.session\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), step === \"widget\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"widget-loaded-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Widget Loaded Successfully\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"The widget should now be visible on the page.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), step !== \"widget\" && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-btn\",\n        disabled: loading,\n        children: loading ? \"Processing...\" : step === \"session\" ? \"Continue to Widget\" : `Continue to ${step === \"token\" ? \"User Creation\" : \"Session\"}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n}\n\n// import React, { useEffect, useState } from \"react\";\n\n// interface Props {\n//   userId: string;\n//   access_token: string;\n//   session_token: string;\n//   onError?: (msg: string) => void;\n// }\n\n// const PotentialDeductions = () => {\n//   const [transactions, setTransactions] = useState<any[]>([]);\n//   const [activeCategoryIndex, setActiveCategoryIndex] = useState<number>(0);\n//   const [isOpen, setIsOpen] = useState(false);\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState(\"\");\n\n//   const groupByField = (dataArray: any, groupKey: any) => {\n//     if (!Array.isArray(dataArray)) {\n//       throw new Error(\"First argument must be an array\");\n//     }\n\n//     const grouped: any = [];\n\n//     dataArray.forEach((item) => {\n//       const key = item[groupKey] || \"schedule C\";\n//       if (!grouped[key]) {\n//         grouped[key] = [];\n//       }\n//       grouped[key].push(item);\n//     });\n\n//     return grouped;\n//   }\n\n//   const fetchTransactions = async (userId: string) => {\n//     setLoading(true);\n//     try {\n//       const data: any = await fetch(`https://dev-categorization.musetax.com/v2/api/potential-deductions/${userId}`, {\n//         method: \"GET\",\n\n//       }).then(async (data) => {\n//         const data1 = await data.json();\n//         const scheduleData = groupByField(data1.deductions, data1.deductions[0].schedule || 'schedule c')\n//         console.log(scheduleData, \"scheduleData\");\n\n//         setTransactions(scheduleData);\n//         console.log(data1,\n//           'dshjchduv'\n//         )\n\n//       })\n\n//       const raja = await data.json()\n//       const response = data.data.json()\n//       console.log(response, \"wuhdwuk\", raja)\n//       // setTransactions(data.body || []);\n//       // if (data?.detail) {\n//       //   const msg = data.detail;\n//       //   setError(msg);\n//       //   // onError?.(msg);\n//       //  } else {\n\n//       //   setTransactions(data || []);\n//       // }\n//     } catch (error: any) {\n//       const msg = \"Failed to fetch transactions.\";\n//       // setError(msg);\n//       // onError?.(msg);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   useEffect(() => {\n//     fetchTransactions('68624589068ff5fea74cf7be')\n//   }, [])\n//   const objectKey:any=Object.keys(transactions)\n//   const activeDeductions = transactions[objectKey[activeCategoryIndex]];\n//   console.log(activeDeductions, \"transactionstransactions\");\n//   let total = 0;\n//  let savings = 0;\n//  if(activeDeductions)   \n// {activeDeductions.forEach((d: any) => {\n//   console.log(d);\n\n//   total += d.total_amount || 0;\n//   savings += d.potential_deduction || 0;\n// });}\n\n//   const label = (total - savings).toFixed(2);\n\n//   return (\n//     <>\n//       <div\n//         style={{\n//           position: \"fixed\",\n//           bottom: \"20px\",\n//           right: \"20px\",\n//           width: \"60px\",\n//           height: \"60px\",\n//           backgroundColor: \"#007bff\",\n//           borderRadius: \"50%\",\n//           display: \"flex\",\n//           justifyContent: \"center\",\n//           alignItems: \"center\",\n//           cursor: \"pointer\",\n//           zIndex: 9999,\n//           color: \"#fff\",\n//           fontSize: \"28px\",\n//           boxShadow: \"0 4px 5px rgba(0, 0, 0, 0.3)\",\n//         }}\n//         onClick={() => setIsOpen(!isOpen)}\n//         title=\"Open Auth Widget\"\n//       >\n//         ðŸ’¬\n//       </div>\n\n//       {isOpen && (\n//         <div\n//           style={{\n//             position: \"fixed\",\n//             bottom: \"90px\",\n//             right: \"20px\",\n//             width: \"68rem\",\n//             maxHeight: \"70vh\",\n//             zIndex: 9998,\n//             overflowY: \"auto\",\n//           }}\n//         >\n//           {error ? (\n//             <div\n//               style={{\n//                 paddingTop: \"200px\",\n//                 minHeight: \"500px\",\n//               }}\n//             >\n//               ''\n//               <p>{error}</p>\n//             </div>\n//           ) : (\n//             <div\n//               style={{\n//                 maxWidth: 1200,\n//                 margin: \"auto\",\n//                 border: \"1px solid #ccc\",\n//                 borderRadius: 16,\n//                 overflow: \"hidden\",\n//               }}\n//             >\n//               <div\n//                 style={{\n//                   backgroundColor: \"#F1F7FB\",\n//                   padding: \"16px 24px\",\n//                   display: \"flex\",\n//                   justifyContent: \"space-between\",\n//                   alignItems: \"center\",\n//                   borderBottom: \"1px solid #BFDBFE\",\n//                 }}\n//               >\n//                 <h2\n//                   style={{\n//                     fontSize: 20,\n//                     fontWeight: 500,\n//                     color: \"#042567\",\n//                     margin: 0,\n//                   }}\n//                 >\n//                   Potential Deductions Analysis\n//                 </h2>\n//                 <span\n//                   style={{\n//                     fontSize: 14,\n//                     color: \"#6B7280\",\n//                     display: \"flex\",\n//                     alignItems: \"center\",\n//                     gap: 4,\n//                   }}\n//                 >\n//                   <span\n//                     style={{\n//                       width: 8,\n//                       height: 8,\n//                       borderRadius: \"50%\",\n//                       backgroundColor: \"#687DF7\",\n//                       display: \"inline-block\",\n//                     }}\n//                   />\n//                   Analysis complete\n//                 </span>\n//               </div>\n\n//               {loading ? (\n//                 <p\n//                   style={{\n//                     fontSize: \"0.875rem\",\n//                     color: \"#526282\",\n//                     margin: 0,\n//                     display: \"flex\",\n//                     justifyContent: \"center\",\n//                     width: \"100%\",\n//                   }}\n//                 >\n//                   Loadingâ€¦\n//                 </p>\n//               ) : (\n//                 <div style={{ padding: 24 }}>\n//                   {/* Tabs */}\n//                   <div style={{ marginBottom: 24, display: \"flex\", gap: 8 }}>\n//                     {Object.keys(transactions).map((cat, index) => (\n//                       <button\n//                         key={index}\n//                         onClick={() => setActiveCategoryIndex(index)}\n//                         style={{\n//                           border: \"1px solid #5387F1\",\n//                           padding: \"12px 16px\",\n//                           fontSize: 14,\n//                           fontWeight: 500,\n//                           borderRadius: 8,\n//                           backgroundColor:\n//                             activeCategoryIndex === index ? \"#5387F1\" : \"white\",\n//                           color:\n//                             activeCategoryIndex === index ? \"white\" : \"#5387F1\",\n//                           cursor: \"pointer\",\n//                         }}\n//                       >\n//                         {cat}\n//                       </button>\n//                     ))}\n//                   </div>\n\n//                   {/* Deduction Details */}\n//                   {activeDeductions.map((activeDeduction: any) => (<>\n//                     <div\n//                       style={{\n//                         border: \"1px solid rgba(30, 64, 175, 0.1)\",\n//                         borderRadius: 16,\n//                         padding: 16,\n//                         margin: \"12px 0\",\n//                       }}\n//                     >\n//                       <h3 style={{ marginBottom: 8, color: \"#042567\" }}>\n//                         {activeDeduction?.title}\n//                       </h3>\n//                       <p style={{ color: \"#526282\", marginBottom: 4 }}>\n//                         {activeDeduction?.description}\n//                       </p>\n//                       <p style={{ color: \"#5A83F3\", fontSize: 12 }}>\n//                         Debit transactions:{\" \"}\n//                         {activeDeduction?.debit_transaction_count}, Credit\n//                         transactions: {activeDeduction?.credit_transaction_count}\n//                       </p>\n//                       <div\n//                         style={{\n//                           marginTop: 16,\n//                           display: \"flex\",\n//                           justifyContent: \"space-between\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500, color: \"#5A83F3\" }}>\n//                           Total Spent: ${activeDeduction?.total_amount}\n//                         </div>\n//                         <div style={{ fontWeight: 500, color: \"#5387F1\" }}>\n//                           Potential Deduction: $\n//                           {activeDeduction?.potential_deduction}\n//                         </div>\n//                       </div>\n//                     </div>\n//                   </>))}\n\n//                   {/* Individual Transactions (Optional) */}\n//                   <div>\n//                     {/* {activeDeductions?.map((txn: any, i: any) => ( */}\n//                       <div\n//                         // key={i}\n//                         style={{\n//                           borderBottom: \"1px solid #eee\",\n//                           padding: \"12px 0\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500 }}>\n//                           Total potenial deduction: $${savings}\n//                         </div>\n//                         <div style={{ fontSize: 12, color: \"#666\" }}>\n//                          Total amount: $${total}\n//                         </div>\n//                       </div>\n//                     {/* ))} */}\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           )}\n//         </div>\n//       )}\n//     </>\n//   );\n// };\n\n// export default PotentialDeductions;\n_s(AuthForm, \"mJiFVnVV6BmLMJojrqrX9nuA5QY=\");\n_c = AuthForm;\nvar _c;\n$RefreshReg$(_c, \"AuthForm\");","map":{"version":3,"names":["useState","useEffect","createUser","getAccessToken","makeSessionToken","jsxDEV","_jsxDEV","Fragment","_Fragment","AuthForm","_s","tokenForm","setTokenForm","client_id","client_secret","userForm","setUserForm","username","email","plaid_user_id","manualWidgetForm","setManualWidgetForm","userId","access_token","session_token","setUserId","accessToken","setAccessToken","sessionToken","setSessionToken","copiedField","setCopiedField","errors","setErrors","widgetError","setWidgetError","loading","setLoading","step","setStep","showClientAuthForm","setShowClientAuthForm","showDirectConnect","setShowDirectConnect","handleTokenOrUserChange","e","name","value","target","prev","undefined","copyToClipboard","field","navigator","clipboard","writeText","then","handleSubmit","preventDefault","res","data","error","widget_session_token","session","_document$getElementB","_document$getElementB2","_document$getElementB3","document","getElementById","remove","script","createElement","type","id","src","async","setAttribute","body","appendChild","link","rel","href","head","_document$getElementB4","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","disabled","_c","$RefreshReg$"],"sources":["/home/webexpert/Desktop/colin/tes/src/App.tsx"],"sourcesContent":["import { useState, useEffect, ChangeEvent, FormEvent } from \"react\";\nimport \"./AuthForm.css\";\nimport { createUser, getAccessToken, makeSessionToken } from \"./api/api\";\n\nexport default function AuthForm() {\n  const [tokenForm, setTokenForm] = useState({ client_id: \"\", client_secret: \"\" });\n  const [userForm, setUserForm] = useState({ username: \"\", email: \"\", plaid_user_id: \"\" });\n  const [manualWidgetForm, setManualWidgetForm] = useState({ userId: \"\", access_token: \"\", session_token: \"\" });\n\n  const [userId, setUserId] = useState(\"\");\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [sessionToken, setSessionToken] = useState(\"\");\n  const [copiedField, setCopiedField] = useState<string | null>(null);\n  const [errors, setErrors] = useState<any>({});\n  const [widgetError, setWidgetError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [step, setStep] = useState<\"token\" | \"user\" | \"session\" | \"widget\">(\"token\");\n  const [showClientAuthForm, setShowClientAuthForm] = useState(false);\n  const [showDirectConnect, setShowDirectConnect] = useState(false);\n\n  const handleTokenOrUserChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    if (step === \"token\") setTokenForm(prev => ({ ...prev, [name]: value }));\n    else setUserForm(prev => ({ ...prev, [name]: value }));\n    setErrors((prev:any) => ({ ...prev, [name]: undefined }));\n  };\n\n  const copyToClipboard = (value: string, field: string) => {\n    navigator.clipboard.writeText(value).then(() => setCopiedField(field));\n  };\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setWidgetError(null);\n\n    if (step === \"token\") {\n      if (!tokenForm.client_id || !tokenForm.client_secret) {\n        setErrors({\n          client_id: !tokenForm.client_id ? \"Client ID is required\" : undefined,\n          client_secret: !tokenForm.client_secret ? \"Client Secret is required\" : undefined,\n        });\n        setLoading(false);\n        return;\n      }\n      try {\n        const res = await getAccessToken(tokenForm.client_id,tokenForm.client_secret)\n        if (res) {\n          setAccessToken(res.access_token);\n          setStep(\"user\");\n        } \n        // else setWidgetError(res.error || \"Token fetch failed\");\n      } catch {\n        setWidgetError(\"Error fetching token\");\n      } finally {\n        setLoading(false);\n      }\n    } else if (step === \"user\") {\n      if (!userForm.username || !userForm.email || !userForm.plaid_user_id) {\n        setErrors({\n          username: !userForm.username ? \"Username is required\" : undefined,\n          email: !userForm.email ? \"Email is required\" : undefined,\n          plaid_user_id: !userForm.plaid_user_id ? \"Plaid User ID is required\" : undefined,\n        });\n        setLoading(false);\n        return;\n      }\n      try {\n        const res = await createUser({email:userForm.email,username:userForm.username,plaid_user_id:userForm.plaid_user_id},accessToken)\n        const data = res\n        if (res) {\n          setUserId(data.userId);\n          setStep(\"session\");\n        } else setWidgetError(data.error || \"User creation failed\");\n      } catch {\n        setWidgetError(\"Error creating user\");\n      } finally {\n        setLoading(false);\n      }\n    } else if (step === \"session\") {\n      try {\n        const data = await makeSessionToken(userId,accessToken)\n        // const data = res;\n        if (data) {\n          setSessionToken(data.widget_session_token);\n          setStep(\"widget\");\n          setShowClientAuthForm(true);\n        } else {\n          setErrors({ session: data.error || \"Session creation failed\" });\n        }\n      } catch {\n        setErrors({ session: \"Error creating session\" });\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!showClientAuthForm) {\n      document.getElementById(\"widget-script\")?.remove();\n      document.getElementById(\"widget-style\")?.remove();\n      document.getElementById(\"widget-container\")?.remove();\n      return;\n    }\n    if (document.getElementById(\"widget-script\")) return;\n\n    const script = document.createElement(\"script\");\n    script.type = \"module\";\n    script.id = \"widget-script\";\n    script.src = \"http://localhost:5173/widgets/widgetLauncher.js\";\n    script.async = true;\n    script.setAttribute(\"data-userid\", userId);\n    script.setAttribute(\"data-access_token\", accessToken);\n    script.setAttribute(\"data-session_token\", sessionToken);\n    document.body.appendChild(script);\n\n    const link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    link.id = \"widget-style\";\n    link.href = \"http://localhost:5173/widgets/style.css\";\n    document.head.appendChild(link);\n\n    return () => {\n      script.remove();\n      link.remove();\n      document.getElementById(\"widget-container\")?.remove();\n    };\n  }, [showClientAuthForm, userId, accessToken, sessionToken]);\n\n  return (\n    <div className=\"auth-form-container\">\n      <form onSubmit={handleSubmit} className=\"auth-form\">\n        {step === \"token\" && (\n          <>\n            <h2>Step 1: Get Access Token</h2>\n            <input name=\"client_id\" placeholder=\"Client ID\" value={tokenForm.client_id} onChange={handleTokenOrUserChange} />\n            {errors.client_id && <p className=\"error\">{errors.client_id}</p>}\n            <input name=\"client_secret\" placeholder=\"Client Secret\" value={tokenForm.client_secret} onChange={handleTokenOrUserChange} />\n            {errors.client_secret && <p className=\"error\">{errors.client_secret}</p>}\n          </>\n        )}\n\n        {step === \"user\" && (\n          <>\n            <h2>Step 2: Create User</h2>\n            <input name=\"username\" placeholder=\"Username\" value={userForm.username} onChange={handleTokenOrUserChange} />\n            {errors.username && <p className=\"error\">{errors.username}</p>}\n            <input name=\"email\" placeholder=\"Email\" value={userForm.email} onChange={handleTokenOrUserChange} />\n            {errors.email && <p className=\"error\">{errors.email}</p>}\n            <input name=\"plaid_user_id\" placeholder=\"Plaid User ID\" value={userForm.plaid_user_id} onChange={handleTokenOrUserChange} />\n            {errors.plaid_user_id && <p className=\"error\">{errors.plaid_user_id}</p>}\n          </>\n        )}\n\n        {step === \"session\" && (\n          <>\n            <h2>Step 3: Session Created</h2>\n            <div className=\"info-box\">\n              <p><strong>User ID:</strong> {userId}</p>\n              <p><strong>Access Token:</strong> {accessToken}</p>\n              <p><strong>Session Token:</strong> {sessionToken}</p>\n              {errors.session && <p className=\"error\">{errors.session}</p>}\n            </div>\n          </>\n        )}\n\n        {step === \"widget\" && (\n          <div className=\"widget-loaded-message\">\n            <h2>Widget Loaded Successfully</h2>\n            <p>The widget should now be visible on the page.</p>\n          </div>\n        )}\n\n        {step !== \"widget\" && (\n          <button type=\"submit\" className=\"submit-btn\" disabled={loading}>\n            {loading ? \"Processing...\" : step === \"session\" ? \"Continue to Widget\" : `Continue to ${step === \"token\" ? \"User Creation\" : \"Session\"}`}\n          </button>\n        )}\n      </form>\n    </div>\n  );\n}\n\n\n\n// import React, { useEffect, useState } from \"react\";\n\n// interface Props {\n//   userId: string;\n//   access_token: string;\n//   session_token: string;\n//   onError?: (msg: string) => void;\n// }\n\n// const PotentialDeductions = () => {\n//   const [transactions, setTransactions] = useState<any[]>([]);\n//   const [activeCategoryIndex, setActiveCategoryIndex] = useState<number>(0);\n//   const [isOpen, setIsOpen] = useState(false);\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState(\"\");\n\n\n\n//   const groupByField = (dataArray: any, groupKey: any) => {\n//     if (!Array.isArray(dataArray)) {\n//       throw new Error(\"First argument must be an array\");\n//     }\n\n//     const grouped: any = [];\n\n//     dataArray.forEach((item) => {\n//       const key = item[groupKey] || \"schedule C\";\n//       if (!grouped[key]) {\n//         grouped[key] = [];\n//       }\n//       grouped[key].push(item);\n//     });\n\n//     return grouped;\n//   }\n\n//   const fetchTransactions = async (userId: string) => {\n//     setLoading(true);\n//     try {\n//       const data: any = await fetch(`https://dev-categorization.musetax.com/v2/api/potential-deductions/${userId}`, {\n//         method: \"GET\",\n\n//       }).then(async (data) => {\n//         const data1 = await data.json();\n//         const scheduleData = groupByField(data1.deductions, data1.deductions[0].schedule || 'schedule c')\n//         console.log(scheduleData, \"scheduleData\");\n\n//         setTransactions(scheduleData);\n//         console.log(data1,\n//           'dshjchduv'\n//         )\n\n//       })\n\n//       const raja = await data.json()\n//       const response = data.data.json()\n//       console.log(response, \"wuhdwuk\", raja)\n//       // setTransactions(data.body || []);\n//       // if (data?.detail) {\n//       //   const msg = data.detail;\n//       //   setError(msg);\n//       //   // onError?.(msg);\n//       //  } else {\n\n//       //   setTransactions(data || []);\n//       // }\n//     } catch (error: any) {\n//       const msg = \"Failed to fetch transactions.\";\n//       // setError(msg);\n//       // onError?.(msg);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   useEffect(() => {\n//     fetchTransactions('68624589068ff5fea74cf7be')\n//   }, [])\n//   const objectKey:any=Object.keys(transactions)\n//   const activeDeductions = transactions[objectKey[activeCategoryIndex]];\n//   console.log(activeDeductions, \"transactionstransactions\");\n//   let total = 0;\n//  let savings = 0;\n//  if(activeDeductions)   \n// {activeDeductions.forEach((d: any) => {\n//   console.log(d);\n\n//   total += d.total_amount || 0;\n//   savings += d.potential_deduction || 0;\n// });}\n\n\n//   const label = (total - savings).toFixed(2);\n\n//   return (\n//     <>\n//       <div\n//         style={{\n//           position: \"fixed\",\n//           bottom: \"20px\",\n//           right: \"20px\",\n//           width: \"60px\",\n//           height: \"60px\",\n//           backgroundColor: \"#007bff\",\n//           borderRadius: \"50%\",\n//           display: \"flex\",\n//           justifyContent: \"center\",\n//           alignItems: \"center\",\n//           cursor: \"pointer\",\n//           zIndex: 9999,\n//           color: \"#fff\",\n//           fontSize: \"28px\",\n//           boxShadow: \"0 4px 5px rgba(0, 0, 0, 0.3)\",\n//         }}\n//         onClick={() => setIsOpen(!isOpen)}\n//         title=\"Open Auth Widget\"\n//       >\n//         ðŸ’¬\n//       </div>\n\n//       {isOpen && (\n//         <div\n//           style={{\n//             position: \"fixed\",\n//             bottom: \"90px\",\n//             right: \"20px\",\n//             width: \"68rem\",\n//             maxHeight: \"70vh\",\n//             zIndex: 9998,\n//             overflowY: \"auto\",\n//           }}\n//         >\n//           {error ? (\n//             <div\n//               style={{\n//                 paddingTop: \"200px\",\n//                 minHeight: \"500px\",\n//               }}\n//             >\n//               ''\n//               <p>{error}</p>\n//             </div>\n//           ) : (\n//             <div\n//               style={{\n//                 maxWidth: 1200,\n//                 margin: \"auto\",\n//                 border: \"1px solid #ccc\",\n//                 borderRadius: 16,\n//                 overflow: \"hidden\",\n//               }}\n//             >\n//               <div\n//                 style={{\n//                   backgroundColor: \"#F1F7FB\",\n//                   padding: \"16px 24px\",\n//                   display: \"flex\",\n//                   justifyContent: \"space-between\",\n//                   alignItems: \"center\",\n//                   borderBottom: \"1px solid #BFDBFE\",\n//                 }}\n//               >\n//                 <h2\n//                   style={{\n//                     fontSize: 20,\n//                     fontWeight: 500,\n//                     color: \"#042567\",\n//                     margin: 0,\n//                   }}\n//                 >\n//                   Potential Deductions Analysis\n//                 </h2>\n//                 <span\n//                   style={{\n//                     fontSize: 14,\n//                     color: \"#6B7280\",\n//                     display: \"flex\",\n//                     alignItems: \"center\",\n//                     gap: 4,\n//                   }}\n//                 >\n//                   <span\n//                     style={{\n//                       width: 8,\n//                       height: 8,\n//                       borderRadius: \"50%\",\n//                       backgroundColor: \"#687DF7\",\n//                       display: \"inline-block\",\n//                     }}\n//                   />\n//                   Analysis complete\n//                 </span>\n//               </div>\n\n//               {loading ? (\n//                 <p\n//                   style={{\n//                     fontSize: \"0.875rem\",\n//                     color: \"#526282\",\n//                     margin: 0,\n//                     display: \"flex\",\n//                     justifyContent: \"center\",\n//                     width: \"100%\",\n//                   }}\n//                 >\n//                   Loadingâ€¦\n//                 </p>\n//               ) : (\n//                 <div style={{ padding: 24 }}>\n//                   {/* Tabs */}\n//                   <div style={{ marginBottom: 24, display: \"flex\", gap: 8 }}>\n//                     {Object.keys(transactions).map((cat, index) => (\n//                       <button\n//                         key={index}\n//                         onClick={() => setActiveCategoryIndex(index)}\n//                         style={{\n//                           border: \"1px solid #5387F1\",\n//                           padding: \"12px 16px\",\n//                           fontSize: 14,\n//                           fontWeight: 500,\n//                           borderRadius: 8,\n//                           backgroundColor:\n//                             activeCategoryIndex === index ? \"#5387F1\" : \"white\",\n//                           color:\n//                             activeCategoryIndex === index ? \"white\" : \"#5387F1\",\n//                           cursor: \"pointer\",\n//                         }}\n//                       >\n//                         {cat}\n//                       </button>\n//                     ))}\n//                   </div>\n\n//                   {/* Deduction Details */}\n//                   {activeDeductions.map((activeDeduction: any) => (<>\n//                     <div\n//                       style={{\n//                         border: \"1px solid rgba(30, 64, 175, 0.1)\",\n//                         borderRadius: 16,\n//                         padding: 16,\n//                         margin: \"12px 0\",\n//                       }}\n//                     >\n//                       <h3 style={{ marginBottom: 8, color: \"#042567\" }}>\n//                         {activeDeduction?.title}\n//                       </h3>\n//                       <p style={{ color: \"#526282\", marginBottom: 4 }}>\n//                         {activeDeduction?.description}\n//                       </p>\n//                       <p style={{ color: \"#5A83F3\", fontSize: 12 }}>\n//                         Debit transactions:{\" \"}\n//                         {activeDeduction?.debit_transaction_count}, Credit\n//                         transactions: {activeDeduction?.credit_transaction_count}\n//                       </p>\n//                       <div\n//                         style={{\n//                           marginTop: 16,\n//                           display: \"flex\",\n//                           justifyContent: \"space-between\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500, color: \"#5A83F3\" }}>\n//                           Total Spent: ${activeDeduction?.total_amount}\n//                         </div>\n//                         <div style={{ fontWeight: 500, color: \"#5387F1\" }}>\n//                           Potential Deduction: $\n//                           {activeDeduction?.potential_deduction}\n//                         </div>\n//                       </div>\n//                     </div>\n//                   </>))}\n\n//                   {/* Individual Transactions (Optional) */}\n//                   <div>\n//                     {/* {activeDeductions?.map((txn: any, i: any) => ( */}\n//                       <div\n//                         // key={i}\n//                         style={{\n//                           borderBottom: \"1px solid #eee\",\n//                           padding: \"12px 0\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500 }}>\n//                           Total potenial deduction: $${savings}\n//                         </div>\n//                         <div style={{ fontSize: 12, color: \"#666\" }}>\n//                          Total amount: $${total}\n//                         </div>\n//                       </div>\n//                     {/* ))} */}\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           )}\n//         </div>\n//       )}\n//     </>\n//   );\n// };\n\n// export default PotentialDeductions;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAgC,OAAO;AACnE,OAAO,gBAAgB;AACvB,SAASC,UAAU,EAAEC,cAAc,EAAEC,gBAAgB,QAAQ,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzE,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC;IAAEa,SAAS,EAAE,EAAE;IAAEC,aAAa,EAAE;EAAG,CAAC,CAAC;EAChF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC;IAAEiB,QAAQ,EAAE,EAAE;IAAEC,KAAK,EAAE,EAAE;IAAEC,aAAa,EAAE;EAAG,CAAC,CAAC;EACxF,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrB,QAAQ,CAAC;IAAEsB,MAAM,EAAE,EAAE;IAAEC,YAAY,EAAE,EAAE;IAAEC,aAAa,EAAE;EAAG,CAAC,CAAC;EAE7G,MAAM,CAACF,MAAM,EAAEG,SAAS,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC0B,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC4B,YAAY,EAAEC,eAAe,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC8B,WAAW,EAAEC,cAAc,CAAC,GAAG/B,QAAQ,CAAgB,IAAI,CAAC;EACnE,MAAM,CAACgC,MAAM,EAAEC,SAAS,CAAC,GAAGjC,QAAQ,CAAM,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACkC,WAAW,EAAEC,cAAc,CAAC,GAAGnC,QAAQ,CAAgB,IAAI,CAAC;EACnE,MAAM,CAACoC,OAAO,EAAEC,UAAU,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACsC,IAAI,EAAEC,OAAO,CAAC,GAAGvC,QAAQ,CAA0C,OAAO,CAAC;EAClF,MAAM,CAACwC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAAC0C,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG3C,QAAQ,CAAC,KAAK,CAAC;EAEjE,MAAM4C,uBAAuB,GAAIC,CAAgC,IAAK;IACpE,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChC,IAAIV,IAAI,KAAK,OAAO,EAAE1B,YAAY,CAACqC,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACH,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC,CAAC,KACpE/B,WAAW,CAACiC,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACH,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;IACtDd,SAAS,CAAEgB,IAAQ,KAAM;MAAE,GAAGA,IAAI;MAAE,CAACH,IAAI,GAAGI;IAAU,CAAC,CAAC,CAAC;EAC3D,CAAC;EAED,MAAMC,eAAe,GAAGA,CAACJ,KAAa,EAAEK,KAAa,KAAK;IACxDC,SAAS,CAACC,SAAS,CAACC,SAAS,CAACR,KAAK,CAAC,CAACS,IAAI,CAAC,MAAMzB,cAAc,CAACqB,KAAK,CAAC,CAAC;EACxE,CAAC;EAED,MAAMK,YAAY,GAAG,MAAOZ,CAAY,IAAK;IAC3CA,CAAC,CAACa,cAAc,CAAC,CAAC;IAClBrB,UAAU,CAAC,IAAI,CAAC;IAChBF,cAAc,CAAC,IAAI,CAAC;IAEpB,IAAIG,IAAI,KAAK,OAAO,EAAE;MACpB,IAAI,CAAC3B,SAAS,CAACE,SAAS,IAAI,CAACF,SAAS,CAACG,aAAa,EAAE;QACpDmB,SAAS,CAAC;UACRpB,SAAS,EAAE,CAACF,SAAS,CAACE,SAAS,GAAG,uBAAuB,GAAGqC,SAAS;UACrEpC,aAAa,EAAE,CAACH,SAAS,CAACG,aAAa,GAAG,2BAA2B,GAAGoC;QAC1E,CAAC,CAAC;QACFb,UAAU,CAAC,KAAK,CAAC;QACjB;MACF;MACA,IAAI;QACF,MAAMsB,GAAG,GAAG,MAAMxD,cAAc,CAACQ,SAAS,CAACE,SAAS,EAACF,SAAS,CAACG,aAAa,CAAC;QAC7E,IAAI6C,GAAG,EAAE;UACPhC,cAAc,CAACgC,GAAG,CAACpC,YAAY,CAAC;UAChCgB,OAAO,CAAC,MAAM,CAAC;QACjB;QACA;MACF,CAAC,CAAC,MAAM;QACNJ,cAAc,CAAC,sBAAsB,CAAC;MACxC,CAAC,SAAS;QACRE,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC,MAAM,IAAIC,IAAI,KAAK,MAAM,EAAE;MAC1B,IAAI,CAACvB,QAAQ,CAACE,QAAQ,IAAI,CAACF,QAAQ,CAACG,KAAK,IAAI,CAACH,QAAQ,CAACI,aAAa,EAAE;QACpEc,SAAS,CAAC;UACRhB,QAAQ,EAAE,CAACF,QAAQ,CAACE,QAAQ,GAAG,sBAAsB,GAAGiC,SAAS;UACjEhC,KAAK,EAAE,CAACH,QAAQ,CAACG,KAAK,GAAG,mBAAmB,GAAGgC,SAAS;UACxD/B,aAAa,EAAE,CAACJ,QAAQ,CAACI,aAAa,GAAG,2BAA2B,GAAG+B;QACzE,CAAC,CAAC;QACFb,UAAU,CAAC,KAAK,CAAC;QACjB;MACF;MACA,IAAI;QACF,MAAMsB,GAAG,GAAG,MAAMzD,UAAU,CAAC;UAACgB,KAAK,EAACH,QAAQ,CAACG,KAAK;UAACD,QAAQ,EAACF,QAAQ,CAACE,QAAQ;UAACE,aAAa,EAACJ,QAAQ,CAACI;QAAa,CAAC,EAACO,WAAW,CAAC;QAChI,MAAMkC,IAAI,GAAGD,GAAG;QAChB,IAAIA,GAAG,EAAE;UACPlC,SAAS,CAACmC,IAAI,CAACtC,MAAM,CAAC;UACtBiB,OAAO,CAAC,SAAS,CAAC;QACpB,CAAC,MAAMJ,cAAc,CAACyB,IAAI,CAACC,KAAK,IAAI,sBAAsB,CAAC;MAC7D,CAAC,CAAC,MAAM;QACN1B,cAAc,CAAC,qBAAqB,CAAC;MACvC,CAAC,SAAS;QACRE,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC,MAAM,IAAIC,IAAI,KAAK,SAAS,EAAE;MAC7B,IAAI;QACF,MAAMsB,IAAI,GAAG,MAAMxD,gBAAgB,CAACkB,MAAM,EAACI,WAAW,CAAC;QACvD;QACA,IAAIkC,IAAI,EAAE;UACR/B,eAAe,CAAC+B,IAAI,CAACE,oBAAoB,CAAC;UAC1CvB,OAAO,CAAC,QAAQ,CAAC;UACjBE,qBAAqB,CAAC,IAAI,CAAC;QAC7B,CAAC,MAAM;UACLR,SAAS,CAAC;YAAE8B,OAAO,EAAEH,IAAI,CAACC,KAAK,IAAI;UAA0B,CAAC,CAAC;QACjE;MACF,CAAC,CAAC,MAAM;QACN5B,SAAS,CAAC;UAAE8B,OAAO,EAAE;QAAyB,CAAC,CAAC;MAClD,CAAC,SAAS;QACR1B,UAAU,CAAC,KAAK,CAAC;MACnB;IACF;EACF,CAAC;EAEDpC,SAAS,CAAC,MAAM;IACd,IAAI,CAACuC,kBAAkB,EAAE;MAAA,IAAAwB,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA;MACvB,CAAAF,qBAAA,GAAAG,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC,cAAAJ,qBAAA,uBAAxCA,qBAAA,CAA0CK,MAAM,CAAC,CAAC;MAClD,CAAAJ,sBAAA,GAAAE,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,cAAAH,sBAAA,uBAAvCA,sBAAA,CAAyCI,MAAM,CAAC,CAAC;MACjD,CAAAH,sBAAA,GAAAC,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,cAAAF,sBAAA,uBAA3CA,sBAAA,CAA6CG,MAAM,CAAC,CAAC;MACrD;IACF;IACA,IAAIF,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC,EAAE;IAE9C,MAAME,MAAM,GAAGH,QAAQ,CAACI,aAAa,CAAC,QAAQ,CAAC;IAC/CD,MAAM,CAACE,IAAI,GAAG,QAAQ;IACtBF,MAAM,CAACG,EAAE,GAAG,eAAe;IAC3BH,MAAM,CAACI,GAAG,GAAG,iDAAiD;IAC9DJ,MAAM,CAACK,KAAK,GAAG,IAAI;IACnBL,MAAM,CAACM,YAAY,CAAC,aAAa,EAAEtD,MAAM,CAAC;IAC1CgD,MAAM,CAACM,YAAY,CAAC,mBAAmB,EAAElD,WAAW,CAAC;IACrD4C,MAAM,CAACM,YAAY,CAAC,oBAAoB,EAAEhD,YAAY,CAAC;IACvDuC,QAAQ,CAACU,IAAI,CAACC,WAAW,CAACR,MAAM,CAAC;IAEjC,MAAMS,IAAI,GAAGZ,QAAQ,CAACI,aAAa,CAAC,MAAM,CAAC;IAC3CQ,IAAI,CAACC,GAAG,GAAG,YAAY;IACvBD,IAAI,CAACN,EAAE,GAAG,cAAc;IACxBM,IAAI,CAACE,IAAI,GAAG,yCAAyC;IACrDd,QAAQ,CAACe,IAAI,CAACJ,WAAW,CAACC,IAAI,CAAC;IAE/B,OAAO,MAAM;MAAA,IAAAI,sBAAA;MACXb,MAAM,CAACD,MAAM,CAAC,CAAC;MACfU,IAAI,CAACV,MAAM,CAAC,CAAC;MACb,CAAAc,sBAAA,GAAAhB,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,cAAAe,sBAAA,uBAA3CA,sBAAA,CAA6Cd,MAAM,CAAC,CAAC;IACvD,CAAC;EACH,CAAC,EAAE,CAAC7B,kBAAkB,EAAElB,MAAM,EAAEI,WAAW,EAAEE,YAAY,CAAC,CAAC;EAE3D,oBACEtB,OAAA;IAAK8E,SAAS,EAAC,qBAAqB;IAAAC,QAAA,eAClC/E,OAAA;MAAMgF,QAAQ,EAAE7B,YAAa;MAAC2B,SAAS,EAAC,WAAW;MAAAC,QAAA,GAChD/C,IAAI,KAAK,OAAO,iBACfhC,OAAA,CAAAE,SAAA;QAAA6E,QAAA,gBACE/E,OAAA;UAAA+E,QAAA,EAAI;QAAwB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjCpF,OAAA;UAAOwC,IAAI,EAAC,WAAW;UAAC6C,WAAW,EAAC,WAAW;UAAC5C,KAAK,EAAEpC,SAAS,CAACE,SAAU;UAAC+E,QAAQ,EAAEhD;QAAwB;UAAA2C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EAChH1D,MAAM,CAACnB,SAAS,iBAAIP,OAAA;UAAG8E,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAErD,MAAM,CAACnB;QAAS;UAAA0E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChEpF,OAAA;UAAOwC,IAAI,EAAC,eAAe;UAAC6C,WAAW,EAAC,eAAe;UAAC5C,KAAK,EAAEpC,SAAS,CAACG,aAAc;UAAC8E,QAAQ,EAAEhD;QAAwB;UAAA2C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EAC5H1D,MAAM,CAAClB,aAAa,iBAAIR,OAAA;UAAG8E,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAErD,MAAM,CAAClB;QAAa;UAAAyE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA,eACxE,CACH,EAEApD,IAAI,KAAK,MAAM,iBACdhC,OAAA,CAAAE,SAAA;QAAA6E,QAAA,gBACE/E,OAAA;UAAA+E,QAAA,EAAI;QAAmB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5BpF,OAAA;UAAOwC,IAAI,EAAC,UAAU;UAAC6C,WAAW,EAAC,UAAU;UAAC5C,KAAK,EAAEhC,QAAQ,CAACE,QAAS;UAAC2E,QAAQ,EAAEhD;QAAwB;UAAA2C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EAC5G1D,MAAM,CAACf,QAAQ,iBAAIX,OAAA;UAAG8E,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAErD,MAAM,CAACf;QAAQ;UAAAsE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9DpF,OAAA;UAAOwC,IAAI,EAAC,OAAO;UAAC6C,WAAW,EAAC,OAAO;UAAC5C,KAAK,EAAEhC,QAAQ,CAACG,KAAM;UAAC0E,QAAQ,EAAEhD;QAAwB;UAAA2C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EACnG1D,MAAM,CAACd,KAAK,iBAAIZ,OAAA;UAAG8E,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAErD,MAAM,CAACd;QAAK;UAAAqE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxDpF,OAAA;UAAOwC,IAAI,EAAC,eAAe;UAAC6C,WAAW,EAAC,eAAe;UAAC5C,KAAK,EAAEhC,QAAQ,CAACI,aAAc;UAACyE,QAAQ,EAAEhD;QAAwB;UAAA2C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EAC3H1D,MAAM,CAACb,aAAa,iBAAIb,OAAA;UAAG8E,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAErD,MAAM,CAACb;QAAa;UAAAoE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA,eACxE,CACH,EAEApD,IAAI,KAAK,SAAS,iBACjBhC,OAAA,CAAAE,SAAA;QAAA6E,QAAA,gBACE/E,OAAA;UAAA+E,QAAA,EAAI;QAAuB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChCpF,OAAA;UAAK8E,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB/E,OAAA;YAAA+E,QAAA,gBAAG/E,OAAA;cAAA+E,QAAA,EAAQ;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACpE,MAAM;UAAA;YAAAiE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACzCpF,OAAA;YAAA+E,QAAA,gBAAG/E,OAAA;cAAA+E,QAAA,EAAQ;YAAa;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAAChE,WAAW;UAAA;YAAA6D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnDpF,OAAA;YAAA+E,QAAA,gBAAG/E,OAAA;cAAA+E,QAAA,EAAQ;YAAc;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAAC9D,YAAY;UAAA;YAAA2D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EACpD1D,MAAM,CAAC+B,OAAO,iBAAIzD,OAAA;YAAG8E,SAAS,EAAC,OAAO;YAAAC,QAAA,EAAErD,MAAM,CAAC+B;UAAO;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC;MAAA,eACN,CACH,EAEApD,IAAI,KAAK,QAAQ,iBAChBhC,OAAA;QAAK8E,SAAS,EAAC,uBAAuB;QAAAC,QAAA,gBACpC/E,OAAA;UAAA+E,QAAA,EAAI;QAA0B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnCpF,OAAA;UAAA+E,QAAA,EAAG;QAA6C;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD,CACN,EAEApD,IAAI,KAAK,QAAQ,iBAChBhC,OAAA;QAAQkE,IAAI,EAAC,QAAQ;QAACY,SAAS,EAAC,YAAY;QAACS,QAAQ,EAAEzD,OAAQ;QAAAiD,QAAA,EAC5DjD,OAAO,GAAG,eAAe,GAAGE,IAAI,KAAK,SAAS,GAAG,oBAAoB,GAAG,eAAeA,IAAI,KAAK,OAAO,GAAG,eAAe,GAAG,SAAS;MAAE;QAAAiD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClI,CACT;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAAhF,EAAA,CAlewBD,QAAQ;AAAAqF,EAAA,GAARrF,QAAQ;AAAA,IAAAqF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}