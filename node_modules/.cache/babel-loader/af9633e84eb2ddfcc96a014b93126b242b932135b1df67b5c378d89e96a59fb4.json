{"ast":null,"code":"var _jsxFileName = \"/home/webexpert/Desktop/colin/tes/src/App.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport \"./AuthForm.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AuthForm() {\n  _s();\n  const [formData, setFormData] = useState({\n    userId: \"\",\n    access_token: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [widgetError, setWidgetError] = useState(null);\n  const [showClientAuthForm, setShowClientAuthForm] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setErrors(prevErrors => {\n      const newErrors = {\n        ...prevErrors\n      };\n      if (newErrors[name]) {\n        delete newErrors[name];\n      }\n      return newErrors;\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    setWidgetError(null);\n    setLoading(true);\n    const newErrors = {};\n    if (!formData.userId) newErrors.userId = \"User ID is required.\";\n    if (!formData.access_token) newErrors.access_token = \"Access Token is required.\";\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      setShowClientAuthForm(false);\n      setLoading(false); // Don't forget to stop loading on error\n    } else {\n      setErrors({});\n      setShowClientAuthForm(true);\n      // Let the widget handle further async work — stop loading right after form show\n      setLoading(false);\n    }\n  };\n  console.log(widgetError, \"widgetErrorwidgetError\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: widgetError != null || showClientAuthForm ? \"\" : \"auth-form-container\",\n    children: [widgetError == null && !showClientAuthForm && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      noValidate: true,\n      className: \"auth-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"form-title\",\n        children: \"Authentication Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold text-gray-700\",\n          children: \"User ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"userId\",\n          value: formData.userId,\n          onChange: handleChange,\n          className: \"w-full px-4 py-2 mt-1 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), errors.userId && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-red-500 mt-1\",\n          children: errors.userId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Access Token\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"access_token\",\n          value: formData.access_token,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), errors.access_token && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.access_token\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-btn\",\n        disabled: loading,\n        children: loading ? \"Loading...\" : \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), showClientAuthForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"client-form-wrapper\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthForm, \"aNsg33cACCTFfxfzl0s8UE0bQCo=\");\n_c = AuthForm;\nvar _c;\n$RefreshReg$(_c, \"AuthForm\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","AuthForm","_s","formData","setFormData","userId","access_token","loading","setLoading","errors","setErrors","widgetError","setWidgetError","showClientAuthForm","setShowClientAuthForm","handleChange","e","name","value","target","prev","prevErrors","newErrors","handleSubmit","preventDefault","Object","keys","length","console","log","className","children","onSubmit","noValidate","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","disabled","_c","$RefreshReg$"],"sources":["/home/webexpert/Desktop/colin/tes/src/App.tsx"],"sourcesContent":["import { useState, ChangeEvent, FormEvent, useEffect } from \"react\";\nimport \"./AuthForm.css\";\n\n\ninterface FormData {\n  userId: string;\n  access_token: string;\n}\n\ninterface FormErrors {\n  userId?: string;\n  access_token?: string;\n}\n\nexport default function AuthForm() {\n  const [formData, setFormData] = useState<FormData>({\n    userId: \"\",\n    access_token: \"\",\n  });\n  const [loading, setLoading] = useState<boolean>(false);\n  const [errors, setErrors] = useState<FormErrors>({});\n  const [widgetError, setWidgetError] = useState<string | null>(null);\n  const [showClientAuthForm, setShowClientAuthForm] = useState<boolean>(false);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n\n    setFormData((prev) => ({ ...prev, [name]: value }));\n\n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n      if (newErrors[name as keyof FormErrors]) {\n        delete newErrors[name as keyof FormErrors];\n      }\n      return newErrors;\n    });\n  };\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setWidgetError(null);\n    setLoading(true);\n\n    const newErrors: FormErrors = {};\n    if (!formData.userId) newErrors.userId = \"User ID is required.\";\n    if (!formData.access_token)\n      newErrors.access_token = \"Access Token is required.\";\n\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      setShowClientAuthForm(false);\n      setLoading(false); // Don't forget to stop loading on error\n    } else {\n      setErrors({});\n      setShowClientAuthForm(true);\n      // Let the widget handle further async work — stop loading right after form show\n      setLoading(false);\n    }\n  };\n\n  console.log(widgetError, \"widgetErrorwidgetError\");\n\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n\n\n  return (\n    <div className={widgetError != null || showClientAuthForm ? \"\" : \"auth-form-container\"}>\n      {widgetError == null && !showClientAuthForm &&(\n        <form onSubmit={handleSubmit} noValidate className=\"auth-form\">\n          <h2 className=\"form-title\">Authentication Form</h2>\n          <div className=\"form-group\">\n            <label className=\"block text-sm font-semibold text-gray-700\">\n              User ID\n            </label>\n            <input\n              type=\"text\"\n              name=\"userId\"\n              value={formData.userId}\n              onChange={handleChange}\n              className=\"w-full px-4 py-2 mt-1 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            {errors.userId && (\n              <p className=\"text-sm text-red-500 mt-1\">{errors.userId}</p>\n            )}\n          </div>\n\n          <div className=\"form-group\">\n            <label>Access Token</label>\n            <input\n              type=\"text\"\n              name=\"access_token\"\n              value={formData.access_token}\n              onChange={handleChange}\n            />\n            {errors.access_token && (\n              <p className=\"error\">{errors.access_token}</p>\n            )}\n          </div>\n\n          <button type=\"submit\" className=\"submit-btn\" disabled={loading}>\n            {loading ? \"Loading...\" : \"Add\"}\n          </button>\n        </form>\n      )}\n\n      {showClientAuthForm && (\n        <div className=\"client-form-wrapper\">\n         \n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;AAAA,SAASA,QAAQ,QAA2C,OAAO;AACnE,OAAO,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAaxB,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAW;IACjDO,MAAM,EAAE,EAAE;IACVC,YAAY,EAAE;EAChB,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAU,KAAK,CAAC;EACtD,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAa,CAAC,CAAC,CAAC;EACpD,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAgB,IAAI,CAAC;EACnE,MAAM,CAACe,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGhB,QAAQ,CAAU,KAAK,CAAC;EAE5E,MAAMiB,YAAY,GAAIC,CAAgC,IAAK;IACzD,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAEhCf,WAAW,CAAEgB,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAE,CAACH,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;IAEnDR,SAAS,CAAEW,UAAU,IAAK;MACxB,MAAMC,SAAS,GAAG;QAAE,GAAGD;MAAW,CAAC;MACnC,IAAIC,SAAS,CAACL,IAAI,CAAqB,EAAE;QACvC,OAAOK,SAAS,CAACL,IAAI,CAAqB;MAC5C;MACA,OAAOK,SAAS;IAClB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,YAAY,GAAIP,CAA6B,IAAK;IACtDA,CAAC,CAACQ,cAAc,CAAC,CAAC;IAClBZ,cAAc,CAAC,IAAI,CAAC;IACpBJ,UAAU,CAAC,IAAI,CAAC;IAEhB,MAAMc,SAAqB,GAAG,CAAC,CAAC;IAChC,IAAI,CAACnB,QAAQ,CAACE,MAAM,EAAEiB,SAAS,CAACjB,MAAM,GAAG,sBAAsB;IAC/D,IAAI,CAACF,QAAQ,CAACG,YAAY,EACxBgB,SAAS,CAAChB,YAAY,GAAG,2BAA2B;IAEtD,IAAImB,MAAM,CAACC,IAAI,CAACJ,SAAS,CAAC,CAACK,MAAM,GAAG,CAAC,EAAE;MACrCjB,SAAS,CAACY,SAAS,CAAC;MACpBR,qBAAqB,CAAC,KAAK,CAAC;MAC5BN,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;IACrB,CAAC,MAAM;MACLE,SAAS,CAAC,CAAC,CAAC,CAAC;MACbI,qBAAqB,CAAC,IAAI,CAAC;MAC3B;MACAN,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAEDoB,OAAO,CAACC,GAAG,CAAClB,WAAW,EAAE,wBAAwB,CAAC;EA6BlD,oBACEX,OAAA;IAAK8B,SAAS,EAAEnB,WAAW,IAAI,IAAI,IAAIE,kBAAkB,GAAG,EAAE,GAAG,qBAAsB;IAAAkB,QAAA,GACpFpB,WAAW,IAAI,IAAI,IAAI,CAACE,kBAAkB,iBACzCb,OAAA;MAAMgC,QAAQ,EAAET,YAAa;MAACU,UAAU;MAACH,SAAS,EAAC,WAAW;MAAAC,QAAA,gBAC5D/B,OAAA;QAAI8B,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAC;MAAmB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnDrC,OAAA;QAAK8B,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzB/B,OAAA;UAAO8B,SAAS,EAAC,2CAA2C;UAAAC,QAAA,EAAC;QAE7D;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRrC,OAAA;UACEsC,IAAI,EAAC,MAAM;UACXrB,IAAI,EAAC,QAAQ;UACbC,KAAK,EAAEf,QAAQ,CAACE,MAAO;UACvBkC,QAAQ,EAAExB,YAAa;UACvBe,SAAS,EAAC;QAAuG;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClH,CAAC,EACD5B,MAAM,CAACJ,MAAM,iBACZL,OAAA;UAAG8B,SAAS,EAAC,2BAA2B;UAAAC,QAAA,EAAEtB,MAAM,CAACJ;QAAM;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAC5D;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENrC,OAAA;QAAK8B,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzB/B,OAAA;UAAA+B,QAAA,EAAO;QAAY;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC3BrC,OAAA;UACEsC,IAAI,EAAC,MAAM;UACXrB,IAAI,EAAC,cAAc;UACnBC,KAAK,EAAEf,QAAQ,CAACG,YAAa;UAC7BiC,QAAQ,EAAExB;QAAa;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC,EACD5B,MAAM,CAACH,YAAY,iBAClBN,OAAA;UAAG8B,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAEtB,MAAM,CAACH;QAAY;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAC9C;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENrC,OAAA;QAAQsC,IAAI,EAAC,QAAQ;QAACR,SAAS,EAAC,YAAY;QAACU,QAAQ,EAAEjC,OAAQ;QAAAwB,QAAA,EAC5DxB,OAAO,GAAG,YAAY,GAAG;MAAK;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACP,EAEAxB,kBAAkB,iBACjBb,OAAA;MAAK8B,SAAS,EAAC;IAAqB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAE/B,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACnC,EAAA,CA1HuBD,QAAQ;AAAAwC,EAAA,GAARxC,QAAQ;AAAA,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}