{"ast":null,"code":"var _jsxFileName = \"/home/webexpert/Desktop/colin/tes/src/AuthForm.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport \"./AuthForm.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet toastRoot = null;\nconst showToast = (type, message) => {\n  if (!toastRoot) {\n    toastRoot = document.createElement(\"div\");\n    toastRoot.id = \"custom-toast-root\";\n    toastRoot.style.position = \"fixed\";\n    toastRoot.style.top = \"20px\";\n    toastRoot.style.right = \"20px\";\n    toastRoot.style.zIndex = \"9999\";\n    document.body.appendChild(toastRoot);\n  }\n  const toast = document.createElement(\"div\");\n  toast.className = \"custom-toast\";\n  toast.style.marginBottom = \"10px\";\n  toast.style.padding = \"12px 20px\";\n  toast.style.borderRadius = \"6px\";\n  toast.style.minWidth = \"250px\";\n  toast.style.boxShadow = \"0 2px 6px rgba(0,0,0,0.15)\";\n  toast.style.fontWeight = \"bold\";\n  toast.style.transition = \"all 0.3s ease\";\n  toast.style.opacity = \"1\";\n  if (type === \"success\") {\n    toast.style.backgroundColor = \"#d1e7dd\";\n    toast.style.color = \"#0f5132\";\n    toast.style.borderLeft = \"6px solid #198754\";\n  } else if (type === \"error\") {\n    toast.style.backgroundColor = \"#f8d7da\";\n    toast.style.color = \"#842029\";\n    toast.style.borderLeft = \"6px solid #dc3545\";\n  }\n  toast.innerText = message;\n  toastRoot.appendChild(toast);\n  setTimeout(() => {\n    toast.style.opacity = \"0\";\n    setTimeout(() => {\n      toast.remove();\n    }, 300);\n  }, 3000);\n};\nexport default function AuthForm() {\n  _s();\n  const [formData, setFormData] = useState({\n    userId: \"\",\n    access_token: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [widgetError, setWidgetError] = useState(null);\n  const [showClientAuthForm, setShowClientAuthForm] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setErrors(prevErrors => {\n      const newErrors = {\n        ...prevErrors\n      };\n      if (newErrors[name]) {\n        delete newErrors[name];\n      }\n      return newErrors;\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    setWidgetError(null);\n    setLoading(true);\n    const newErrors = {};\n    if (!formData.userId) newErrors.userId = \"User ID is required.\";\n    if (!formData.access_token) newErrors.access_token = \"Access Token is required.\";\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      setShowClientAuthForm(false);\n      setLoading(false); // Don't forget to stop loading on error\n\n      // Show toast for each error message\n      Object.values(newErrors).forEach(errorMessage => {\n        showToast(\"error\", errorMessage);\n      });\n    } else {\n      setErrors({});\n      setShowClientAuthForm(true);\n      // Let the widget handle further async work — stop loading right after form show\n      setLoading(false);\n    }\n  };\n\n  // New function to handle the API calls sequence\n  const handleGetCredentialsAndGenerateLink = async () => {\n    setLoading(true);\n    setWidgetError(null);\n    try {\n      // 1. GET client credentials\n      const credentialsResponse = await fetch(\"https://137c-2404-7c80-5c-eaba-f5c6-9913-ec59-4f68.ngrok-free.app/mmp/get_client_credentials\", {\n        method: \"GET\",\n        headers: {\n          accept: \"application/json\",\n          \"ngrok-skip-browser-warning\": \"69420\"\n        }\n      });\n      if (!credentialsResponse.ok) {\n        throw new Error(`Failed to get client credentials: ${credentialsResponse.statusText}`);\n      }\n      const credentialsData = await credentialsResponse.json();\n      const {\n        client_id,\n        client_secret\n      } = credentialsData;\n      if (!client_id || !client_secret) {\n        throw new Error(\"Client ID or Client Secret missing in response\");\n      }\n      showToast(\"success\", \"Client credentials obtained\");\n\n      // 2. POST to get token\n      const tokenResponse = await fetch(\"https://137c-2404-7c80-5c-eaba-f5c6-9913-ec59-4f68.ngrok-free.app/mmp/token\", {\n        method: \"POST\",\n        headers: {\n          accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"ngrok-skip-browser-warning\": \"69420\"\n        },\n        body: JSON.stringify({\n          client_id,\n          client_secret\n        })\n      });\n      if (!tokenResponse.ok) {\n        throw new Error(`Failed to get token: ${tokenResponse.statusText}`);\n      }\n      const tokenData = await tokenResponse.json();\n      const access_token = tokenData.access_token;\n      if (!access_token) {\n        throw new Error(\"Access token missing in token response\");\n      }\n      showToast(\"success\", \"Access token obtained\");\n\n      // Update formData with access_token\n      setFormData(prev => ({\n        ...prev,\n        access_token\n      }));\n\n      // 3. POST to generate link\n      const generateLinkResponse = await fetch(\"https://137c-2404-7c80-5c-eaba-f5c6-9913-ec59-4f68.ngrok-free.app/mmp/generate-link\", {\n        method: \"POST\",\n        headers: {\n          accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"ngrok-skip-browser-warning\": \"69420\"\n        },\n        body: JSON.stringify({\n          access_token\n        })\n      });\n      if (!generateLinkResponse.ok) {\n        throw new Error(`Failed to generate link: ${generateLinkResponse.statusText}`);\n      }\n      const generateLinkData = await generateLinkResponse.json();\n      showToast(\"success\", \"Link generated successfully\");\n\n      // Optionally, you can do something with generateLinkData here\n    } catch (error) {\n      setWidgetError(error.message || \"An error occurred\");\n      showToast(\"error\", error.message || \"An error occurred\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (!showClientAuthForm) {\n      // Cleanup if widget is not shown\n      const existingScript = document.getElementById(\"widget-script\");\n      if (existingScript) existingScript.remove();\n      const existingLink = document.getElementById(\"widget-style\");\n      if (existingLink) existingLink.remove();\n      const widgetContainer = document.getElementById(\"widget-container\");\n      if (widgetContainer) widgetContainer.remove();\n      return;\n    }\n\n    // Prevent double-inject\n    if (document.getElementById(\"widget-script\")) return;\n\n    // Inject widget.js with user data attributes\n    const script = document.createElement(\"script\");\n    script.id = \"widget-script\";\n    script.src = \"http://localhost:4000/widgets/widget.js\";\n    script.async = true;\n    script.setAttribute(\"data-userid\", formData.userId);\n    script.setAttribute(\"data-access_token\", formData.access_token);\n    document.body.appendChild(script);\n\n    // Inject style.css\n    const link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    link.href = \"http://localhost:4000/widgets/style.css\";\n    link.id = \"widget-style\";\n    document.head.appendChild(link);\n    return () => {\n      script.remove();\n      link.remove();\n      const widgetContainer = document.getElementById(\"widget-container\");\n      if (widgetContainer) widgetContainer.remove();\n    };\n  }, [showClientAuthForm, formData.userId, formData.access_token]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: widgetError != null || showClientAuthForm ? \"\" : \"auth-form-container\",\n    children: [!Object.keys(errors).length && widgetError == null && !showClientAuthForm && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGetCredentialsAndGenerateLink,\n        className: \"submit-btn\",\n        disabled: loading,\n        style: {\n          marginTop: \"20px\"\n        },\n        children: loading ? \"Loading...\" : \"Get Credentials and Generate Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)\n    }, void 0, false), showClientAuthForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"client-form-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"widget-container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthForm, \"64Qvu3FP1VFHsYt0ujS/e61bTwA=\");\n_c = AuthForm;\nvar _c;\n$RefreshReg$(_c, \"AuthForm\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","toastRoot","showToast","type","message","document","createElement","id","style","position","top","right","zIndex","body","appendChild","toast","className","marginBottom","padding","borderRadius","minWidth","boxShadow","fontWeight","transition","opacity","backgroundColor","color","borderLeft","innerText","setTimeout","remove","AuthForm","_s","formData","setFormData","userId","access_token","loading","setLoading","errors","setErrors","widgetError","setWidgetError","showClientAuthForm","setShowClientAuthForm","handleChange","e","name","value","target","prev","prevErrors","newErrors","handleSubmit","preventDefault","Object","keys","length","values","forEach","errorMessage","handleGetCredentialsAndGenerateLink","credentialsResponse","fetch","method","headers","accept","ok","Error","statusText","credentialsData","json","client_id","client_secret","tokenResponse","JSON","stringify","tokenData","generateLinkResponse","generateLinkData","error","existingScript","getElementById","existingLink","widgetContainer","script","src","async","setAttribute","link","rel","href","head","children","onClick","disabled","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/webexpert/Desktop/colin/tes/src/AuthForm.tsx"],"sourcesContent":["import { useState, ChangeEvent, FormEvent, useEffect } from \"react\";\nimport \"./AuthForm.css\";\n\ntype ToastType = \"success\" | \"error\";\n\nlet toastRoot: HTMLElement | null = null;\n\nconst showToast = (type: ToastType, message: string): void => {\n  if (!toastRoot) {\n    toastRoot = document.createElement(\"div\");\n    toastRoot.id = \"custom-toast-root\";\n    toastRoot.style.position = \"fixed\";\n    toastRoot.style.top = \"20px\";\n    toastRoot.style.right = \"20px\";\n    toastRoot.style.zIndex = \"9999\";\n    document.body.appendChild(toastRoot);\n  }\n\n  const toast = document.createElement(\"div\");\n  toast.className = \"custom-toast\";\n  toast.style.marginBottom = \"10px\";\n  toast.style.padding = \"12px 20px\";\n  toast.style.borderRadius = \"6px\";\n  toast.style.minWidth = \"250px\";\n  toast.style.boxShadow = \"0 2px 6px rgba(0,0,0,0.15)\";\n  toast.style.fontWeight = \"bold\";\n  toast.style.transition = \"all 0.3s ease\";\n  toast.style.opacity = \"1\";\n\n  if (type === \"success\") {\n    toast.style.backgroundColor = \"#d1e7dd\";\n    toast.style.color = \"#0f5132\";\n    toast.style.borderLeft = \"6px solid #198754\";\n  } else if (type === \"error\") {\n    toast.style.backgroundColor = \"#f8d7da\";\n    toast.style.color = \"#842029\";\n    toast.style.borderLeft = \"6px solid #dc3545\";\n  }\n\n  toast.innerText = message;\n  toastRoot.appendChild(toast);\n\n  setTimeout(() => {\n    toast.style.opacity = \"0\";\n    setTimeout(() => {\n      toast.remove();\n    }, 300);\n  }, 3000);\n};\n\ninterface FormData {\n  userId: string;\n  access_token: string;\n}\n\ninterface FormErrors {\n  userId?: string;\n  access_token?: string;\n}\n\nexport default function AuthForm() {\n  const [formData, setFormData] = useState<FormData>({\n    userId: \"\",\n    access_token: \"\",\n  });\n  const [loading, setLoading] = useState<boolean>(false);\n  const [errors, setErrors] = useState<FormErrors>({});\n  const [widgetError, setWidgetError] = useState<string | null>(null);\n  const [showClientAuthForm, setShowClientAuthForm] = useState<boolean>(false);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n\n    setFormData((prev) => ({ ...prev, [name]: value }));\n\n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n      if (newErrors[name as keyof FormErrors]) {\n        delete newErrors[name as keyof FormErrors];\n      }\n      return newErrors;\n    });\n  };\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setWidgetError(null);\n    setLoading(true);\n\n    const newErrors: FormErrors = {};\n    if (!formData.userId) newErrors.userId = \"User ID is required.\";\n    if (!formData.access_token)\n      newErrors.access_token = \"Access Token is required.\";\n\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      setShowClientAuthForm(false);\n      setLoading(false); // Don't forget to stop loading on error\n\n      // Show toast for each error message\n      Object.values(newErrors).forEach((errorMessage) => {\n        showToast(\"error\", errorMessage);\n      });\n    } else {\n      setErrors({});\n      setShowClientAuthForm(true);\n      // Let the widget handle further async work — stop loading right after form show\n      setLoading(false);\n    }\n  };\n\n  // New function to handle the API calls sequence\n  const handleGetCredentialsAndGenerateLink = async () => {\n    setLoading(true);\n    setWidgetError(null);\n    try {\n      // 1. GET client credentials\n      const credentialsResponse = await fetch(\n        \"https://137c-2404-7c80-5c-eaba-f5c6-9913-ec59-4f68.ngrok-free.app/mmp/get_client_credentials\",\n        {\n          method: \"GET\",\n          headers: {\n            accept: \"application/json\",\n            \"ngrok-skip-browser-warning\":\"69420\"\n\n          },\n        }\n      );\n      if (!credentialsResponse.ok) {\n        throw new Error(`Failed to get client credentials: ${credentialsResponse.statusText}`);\n      }\n      const credentialsData = await credentialsResponse.json();\n      const { client_id, client_secret } = credentialsData;\n\n      if (!client_id || !client_secret) {\n        throw new Error(\"Client ID or Client Secret missing in response\");\n      }\n      showToast(\"success\", \"Client credentials obtained\");\n\n      // 2. POST to get token\n      const tokenResponse = await fetch(\n        \"https://137c-2404-7c80-5c-eaba-f5c6-9913-ec59-4f68.ngrok-free.app/mmp/token\",\n        {\n          method: \"POST\",\n          headers: {\n            accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            \"ngrok-skip-browser-warning\":\"69420\"\n\n          },\n          body: JSON.stringify({\n            client_id,\n            client_secret,\n          }),\n        }\n      );\n      if (!tokenResponse.ok) {\n        throw new Error(`Failed to get token: ${tokenResponse.statusText}`);\n      }\n      const tokenData = await tokenResponse.json();\n      const access_token = tokenData.access_token;\n      if (!access_token) {\n        throw new Error(\"Access token missing in token response\");\n      }\n      showToast(\"success\", \"Access token obtained\");\n\n      // Update formData with access_token\n      setFormData((prev) => ({ ...prev, access_token }));\n\n      // 3. POST to generate link\n      const generateLinkResponse = await fetch(\n        \"https://137c-2404-7c80-5c-eaba-f5c6-9913-ec59-4f68.ngrok-free.app/mmp/generate-link\",\n        {\n          method: \"POST\",\n          headers: {\n            accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            \"ngrok-skip-browser-warning\":\"69420\"\n          },\n          body: JSON.stringify({\n            access_token,\n          }),\n        }\n      );\n      if (!generateLinkResponse.ok) {\n        throw new Error(`Failed to generate link: ${generateLinkResponse.statusText}`);\n      }\n      const generateLinkData = await generateLinkResponse.json();\n      showToast(\"success\", \"Link generated successfully\");\n\n      // Optionally, you can do something with generateLinkData here\n\n    } catch (error: any) {\n      setWidgetError(error.message || \"An error occurred\");\n      showToast(\"error\", error.message || \"An error occurred\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!showClientAuthForm) {\n      // Cleanup if widget is not shown\n      const existingScript = document.getElementById(\"widget-script\");\n      if (existingScript) existingScript.remove();\n      const existingLink = document.getElementById(\"widget-style\");\n      if (existingLink) existingLink.remove();\n      const widgetContainer = document.getElementById(\"widget-container\");\n      if (widgetContainer) widgetContainer.remove();\n      return;\n    }\n\n    // Prevent double-inject\n    if (document.getElementById(\"widget-script\")) return;\n\n    // Inject widget.js with user data attributes\n    const script = document.createElement(\"script\");\n    script.id = \"widget-script\";\n    script.src = \"http://localhost:4000/widgets/widget.js\";\n    script.async = true;\n    script.setAttribute(\"data-userid\", formData.userId);\n    script.setAttribute(\"data-access_token\", formData.access_token);\n    document.body.appendChild(script);\n\n    // Inject style.css\n    const link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    link.href = \"http://localhost:4000/widgets/style.css\";\n    link.id = \"widget-style\";\n    document.head.appendChild(link);\n\n    return () => {\n      script.remove();\n      link.remove();\n      const widgetContainer = document.getElementById(\"widget-container\");\n      if (widgetContainer) widgetContainer.remove();\n    };\n  }, [showClientAuthForm, formData.userId, formData.access_token]);\n\n  return (\n    <div\n      className={\n        widgetError != null || showClientAuthForm ? \"\" : \"auth-form-container\"\n      }\n    >\n      {/* Hide form and widget when errors exist */}\n      {!Object.keys(errors).length && widgetError == null && !showClientAuthForm && (\n        <>\n\n          <button\n            onClick={handleGetCredentialsAndGenerateLink}\n            className=\"submit-btn\"\n            disabled={loading}\n            style={{ marginTop: \"20px\" }}\n          >\n            {loading ? \"Loading...\" : \"Get Credentials and Generate Link\"}\n          </button>\n        </>\n      )}\n\n      {showClientAuthForm && (\n        <div className=\"client-form-wrapper\">\n          <div id=\"widget-container\"></div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}