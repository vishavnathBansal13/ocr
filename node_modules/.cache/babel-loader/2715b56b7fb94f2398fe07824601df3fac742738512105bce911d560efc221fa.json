{"ast":null,"code":"var _jsxFileName = \"/home/webexpert/Desktop/colin/tes/src/App.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport \"./AuthForm.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AuthForm() {\n  _s();\n  const [formData, setFormData] = useState({\n    userId: \"\",\n    access_token: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [widgetError, setWidgetError] = useState(null);\n  const [showClientAuthForm, setShowClientAuthForm] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setErrors(prevErrors => {\n      const newErrors = {\n        ...prevErrors\n      };\n      if (newErrors[name]) {\n        delete newErrors[name];\n      }\n      return newErrors;\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    setWidgetError(null);\n    setLoading(true);\n    const newErrors = {};\n    if (!formData.userId) newErrors.userId = \"User ID is required.\";\n    if (!formData.access_token) newErrors.access_token = \"Access Token is required.\";\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      setShowClientAuthForm(false);\n      setLoading(false); // Don't forget to stop loading on error\n    } else {\n      setErrors({});\n      setShowClientAuthForm(true);\n      // Let the widget handle further async work â€” stop loading right after form show\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (!showClientAuthForm) {\n      // Cleanup if widget is not shown\n      const existingScript = document.getElementById(\"widget-script\");\n      if (existingScript) existingScript.remove();\n      const existingLink = document.getElementById(\"widget-style\");\n      if (existingLink) existingLink.remove();\n      const widgetContainer = document.getElementById(\"widget-container\");\n      if (widgetContainer) widgetContainer.remove();\n      return;\n    }\n\n    // Prevent double-inject\n    if (document.getElementById(\"widget-script\")) return;\n\n    // Inject widget.js with user data attributes\n    const script = document.createElement(\"script\");\n    script.type = \"module\";\n    script.id = \"widget-script\";\n    //  script.src = \"http://localhost:4000/deduction/initDeductionWidget.js\";\n    script.src = \"http://localhost:4000/widgets/widget.js\";\n\n    //  script.src = \"https://appweb-bucket.s3.us-east-1.amazonaws.com/widget/public/widgets/widget.js\";\n\n    script.async = true;\n    script.setAttribute(\"data-userid\", formData.userId);\n    script.setAttribute(\"data-access_token\", formData.access_token);\n    script.setAttribute('data-session_token', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2ODYyNDU4OTA2OGZmNWZlYTc0Y2Y3YmUiLCJpYXQiOjE3NTEyNzUxODEsImV4cCI6MTc1MTM2MTU4MSwiZG9tYWlucyI6WyJodHRwOi8vbG9jYWxob3N0OjMwMDAiXX0.oeV8gK8DDy6IDA7vvzyFj-N5Ln47NgeFFb0dnAmzSnU');\n    document.body.appendChild(script);\n\n    // Inject style.css\n    const link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    // link.href = \"http://localhost:4000/deduction/deductionWidget.css\";\n    link.href = \"http://localhost:4000/widgets/style.css\";\n\n    //  link.href = \"https://appweb-bucket.s3.us-east-1.amazonaws.com/widget/public/widgets/style.css\";\n\n    link.id = \"widget-style\";\n    document.head.appendChild(link);\n    return () => {\n      script.remove();\n      link.remove();\n      const widgetContainer = document.getElementById(\"widget-container\");\n      if (widgetContainer) widgetContainer.remove();\n    };\n  }, [showClientAuthForm, formData.userId, formData.access_token]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: widgetError != null || showClientAuthForm ? \"\" : \"auth-form-container\",\n    children: widgetError == null && !showClientAuthForm && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      noValidate: true,\n      className: \"auth-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"form-title\",\n        children: \"Authentication Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold text-gray-700\",\n          children: \"User ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"userId\",\n          value: formData.userId,\n          onChange: handleChange,\n          className: \"w-full px-4 py-2 mt-1 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), errors.userId && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-red-500 mt-1\",\n          children: errors.userId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Access Token\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"access_token\",\n          value: formData.access_token,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), errors.access_token && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.access_token\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-btn\",\n        disabled: loading,\n        children: loading ? \"Loading...\" : \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n\n// import React, { useEffect, useState } from \"react\";\n\n// interface Props {\n//   userId: string;\n//   access_token: string;\n//   session_token: string;\n//   onError?: (msg: string) => void;\n// }\n\n// const PotentialDeductions = () => {\n//   const [transactions, setTransactions] = useState<any[]>([]);\n//   const [activeCategoryIndex, setActiveCategoryIndex] = useState<number>(0);\n//   const [isOpen, setIsOpen] = useState(false);\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState(\"\");\n\n//   const groupByField = (dataArray: any, groupKey: any) => {\n//     if (!Array.isArray(dataArray)) {\n//       throw new Error(\"First argument must be an array\");\n//     }\n\n//     const grouped: any = [];\n\n//     dataArray.forEach((item) => {\n//       const key = item[groupKey] || \"schedule C\";\n//       if (!grouped[key]) {\n//         grouped[key] = [];\n//       }\n//       grouped[key].push(item);\n//     });\n\n//     return grouped;\n//   }\n\n//   const fetchTransactions = async (userId: string) => {\n//     setLoading(true);\n//     try {\n//       const data: any = await fetch(`https://dev-categorization.musetax.com/v2/api/potential-deductions/${userId}`, {\n//         method: \"GET\",\n\n//       }).then(async (data) => {\n//         const data1 = await data.json();\n//         const scheduleData = groupByField(data1.deductions, data1.deductions[0].schedule || 'schedule c')\n//         console.log(scheduleData, \"scheduleData\");\n\n//         setTransactions(scheduleData);\n//         console.log(data1,\n//           'dshjchduv'\n//         )\n\n//       })\n\n//       const raja = await data.json()\n//       const response = data.data.json()\n//       console.log(response, \"wuhdwuk\", raja)\n//       // setTransactions(data.body || []);\n//       // if (data?.detail) {\n//       //   const msg = data.detail;\n//       //   setError(msg);\n//       //   // onError?.(msg);\n//       //  } else {\n\n//       //   setTransactions(data || []);\n//       // }\n//     } catch (error: any) {\n//       const msg = \"Failed to fetch transactions.\";\n//       // setError(msg);\n//       // onError?.(msg);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   useEffect(() => {\n//     fetchTransactions('68624589068ff5fea74cf7be')\n//   }, [])\n//   const objectKey:any=Object.keys(transactions)\n//   const activeDeductions = transactions[objectKey[activeCategoryIndex]];\n//   console.log(activeDeductions, \"transactionstransactions\");\n//   let total = 0;\n//  let savings = 0;\n//  if(activeDeductions)   \n// {activeDeductions.forEach((d: any) => {\n//   console.log(d);\n\n//   total += d.total_amount || 0;\n//   savings += d.potential_deduction || 0;\n// });}\n\n//   const label = (total - savings).toFixed(2);\n\n//   return (\n//     <>\n//       <div\n//         style={{\n//           position: \"fixed\",\n//           bottom: \"20px\",\n//           right: \"20px\",\n//           width: \"60px\",\n//           height: \"60px\",\n//           backgroundColor: \"#007bff\",\n//           borderRadius: \"50%\",\n//           display: \"flex\",\n//           justifyContent: \"center\",\n//           alignItems: \"center\",\n//           cursor: \"pointer\",\n//           zIndex: 9999,\n//           color: \"#fff\",\n//           fontSize: \"28px\",\n//           boxShadow: \"0 4px 5px rgba(0, 0, 0, 0.3)\",\n//         }}\n//         onClick={() => setIsOpen(!isOpen)}\n//         title=\"Open Auth Widget\"\n//       >\n//         ðŸ’¬\n//       </div>\n\n//       {isOpen && (\n//         <div\n//           style={{\n//             position: \"fixed\",\n//             bottom: \"90px\",\n//             right: \"20px\",\n//             width: \"68rem\",\n//             maxHeight: \"70vh\",\n//             zIndex: 9998,\n//             overflowY: \"auto\",\n//           }}\n//         >\n//           {error ? (\n//             <div\n//               style={{\n//                 paddingTop: \"200px\",\n//                 minHeight: \"500px\",\n//               }}\n//             >\n//               ''\n//               <p>{error}</p>\n//             </div>\n//           ) : (\n//             <div\n//               style={{\n//                 maxWidth: 1200,\n//                 margin: \"auto\",\n//                 border: \"1px solid #ccc\",\n//                 borderRadius: 16,\n//                 overflow: \"hidden\",\n//               }}\n//             >\n//               <div\n//                 style={{\n//                   backgroundColor: \"#F1F7FB\",\n//                   padding: \"16px 24px\",\n//                   display: \"flex\",\n//                   justifyContent: \"space-between\",\n//                   alignItems: \"center\",\n//                   borderBottom: \"1px solid #BFDBFE\",\n//                 }}\n//               >\n//                 <h2\n//                   style={{\n//                     fontSize: 20,\n//                     fontWeight: 500,\n//                     color: \"#042567\",\n//                     margin: 0,\n//                   }}\n//                 >\n//                   Potential Deductions Analysis\n//                 </h2>\n//                 <span\n//                   style={{\n//                     fontSize: 14,\n//                     color: \"#6B7280\",\n//                     display: \"flex\",\n//                     alignItems: \"center\",\n//                     gap: 4,\n//                   }}\n//                 >\n//                   <span\n//                     style={{\n//                       width: 8,\n//                       height: 8,\n//                       borderRadius: \"50%\",\n//                       backgroundColor: \"#687DF7\",\n//                       display: \"inline-block\",\n//                     }}\n//                   />\n//                   Analysis complete\n//                 </span>\n//               </div>\n\n//               {loading ? (\n//                 <p\n//                   style={{\n//                     fontSize: \"0.875rem\",\n//                     color: \"#526282\",\n//                     margin: 0,\n//                     display: \"flex\",\n//                     justifyContent: \"center\",\n//                     width: \"100%\",\n//                   }}\n//                 >\n//                   Loadingâ€¦\n//                 </p>\n//               ) : (\n//                 <div style={{ padding: 24 }}>\n//                   {/* Tabs */}\n//                   <div style={{ marginBottom: 24, display: \"flex\", gap: 8 }}>\n//                     {Object.keys(transactions).map((cat, index) => (\n//                       <button\n//                         key={index}\n//                         onClick={() => setActiveCategoryIndex(index)}\n//                         style={{\n//                           border: \"1px solid #5387F1\",\n//                           padding: \"12px 16px\",\n//                           fontSize: 14,\n//                           fontWeight: 500,\n//                           borderRadius: 8,\n//                           backgroundColor:\n//                             activeCategoryIndex === index ? \"#5387F1\" : \"white\",\n//                           color:\n//                             activeCategoryIndex === index ? \"white\" : \"#5387F1\",\n//                           cursor: \"pointer\",\n//                         }}\n//                       >\n//                         {cat}\n//                       </button>\n//                     ))}\n//                   </div>\n\n//                   {/* Deduction Details */}\n//                   {activeDeductions.map((activeDeduction: any) => (<>\n//                     <div\n//                       style={{\n//                         border: \"1px solid rgba(30, 64, 175, 0.1)\",\n//                         borderRadius: 16,\n//                         padding: 16,\n//                         margin: \"12px 0\",\n//                       }}\n//                     >\n//                       <h3 style={{ marginBottom: 8, color: \"#042567\" }}>\n//                         {activeDeduction?.title}\n//                       </h3>\n//                       <p style={{ color: \"#526282\", marginBottom: 4 }}>\n//                         {activeDeduction?.description}\n//                       </p>\n//                       <p style={{ color: \"#5A83F3\", fontSize: 12 }}>\n//                         Debit transactions:{\" \"}\n//                         {activeDeduction?.debit_transaction_count}, Credit\n//                         transactions: {activeDeduction?.credit_transaction_count}\n//                       </p>\n//                       <div\n//                         style={{\n//                           marginTop: 16,\n//                           display: \"flex\",\n//                           justifyContent: \"space-between\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500, color: \"#5A83F3\" }}>\n//                           Total Spent: ${activeDeduction?.total_amount}\n//                         </div>\n//                         <div style={{ fontWeight: 500, color: \"#5387F1\" }}>\n//                           Potential Deduction: $\n//                           {activeDeduction?.potential_deduction}\n//                         </div>\n//                       </div>\n//                     </div>\n//                   </>))}\n\n//                   {/* Individual Transactions (Optional) */}\n//                   <div>\n//                     {/* {activeDeductions?.map((txn: any, i: any) => ( */}\n//                       <div\n//                         // key={i}\n//                         style={{\n//                           borderBottom: \"1px solid #eee\",\n//                           padding: \"12px 0\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500 }}>\n//                           Total potenial deduction: $${savings}\n//                         </div>\n//                         <div style={{ fontSize: 12, color: \"#666\" }}>\n//                          Total amount: $${total}\n//                         </div>\n//                       </div>\n//                     {/* ))} */}\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           )}\n//         </div>\n//       )}\n//     </>\n//   );\n// };\n\n// export default PotentialDeductions;\n_s(AuthForm, \"64Qvu3FP1VFHsYt0ujS/e61bTwA=\");\n_c = AuthForm;\nvar _c;\n$RefreshReg$(_c, \"AuthForm\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","AuthForm","_s","formData","setFormData","userId","access_token","loading","setLoading","errors","setErrors","widgetError","setWidgetError","showClientAuthForm","setShowClientAuthForm","handleChange","e","name","value","target","prev","prevErrors","newErrors","handleSubmit","preventDefault","Object","keys","length","existingScript","document","getElementById","remove","existingLink","widgetContainer","script","createElement","type","id","src","async","setAttribute","body","appendChild","link","rel","href","head","className","children","onSubmit","noValidate","fileName","_jsxFileName","lineNumber","columnNumber","onChange","disabled","_c","$RefreshReg$"],"sources":["/home/webexpert/Desktop/colin/tes/src/App.tsx"],"sourcesContent":["import { useState, ChangeEvent, FormEvent, useEffect } from \"react\";\nimport \"./AuthForm.css\";\n\ninterface FormData {\n  userId: string;\n  access_token: string;\n}\n\ninterface FormErrors {\n  userId?: string;\n  access_token?: string;\n}\n\nexport default function AuthForm() {\n  const [formData, setFormData] = useState<FormData>({\n    userId: \"\",\n    access_token: \"\",\n  });\n  const [loading, setLoading] = useState<boolean>(false);\n  const [errors, setErrors] = useState<FormErrors>({});\n  const [widgetError, setWidgetError] = useState<string | null>(null);\n  const [showClientAuthForm, setShowClientAuthForm] = useState<boolean>(false);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n\n    setFormData((prev) => ({ ...prev, [name]: value }));\n\n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n      if (newErrors[name as keyof FormErrors]) {\n        delete newErrors[name as keyof FormErrors];\n      }\n      return newErrors;\n    });\n  };\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setWidgetError(null);\n    setLoading(true);\n\n    const newErrors: FormErrors = {};\n    if (!formData.userId) newErrors.userId = \"User ID is required.\";\n    if (!formData.access_token)\n      newErrors.access_token = \"Access Token is required.\";\n\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      setShowClientAuthForm(false);\n      setLoading(false); // Don't forget to stop loading on error\n    } else {\n      setErrors({});\n      setShowClientAuthForm(true);\n      // Let the widget handle further async work â€” stop loading right after form show\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!showClientAuthForm) {\n      // Cleanup if widget is not shown\n      const existingScript = document.getElementById(\"widget-script\");\n      if (existingScript) existingScript.remove();\n      const existingLink = document.getElementById(\"widget-style\");\n      if (existingLink) existingLink.remove();\n      const widgetContainer = document.getElementById(\"widget-container\");\n      if (widgetContainer) widgetContainer.remove();\n      return;\n    }\n\n    // Prevent double-inject\n    if (document.getElementById(\"widget-script\")) return;\n\n    // Inject widget.js with user data attributes\n    const script = document.createElement(\"script\");\n    script.type = \"module\";\n    script.id = \"widget-script\";\n    //  script.src = \"http://localhost:4000/deduction/initDeductionWidget.js\";\n     script.src = \"http://localhost:4000/widgets/widget.js\";\n    \n     //  script.src = \"https://appweb-bucket.s3.us-east-1.amazonaws.com/widget/public/widgets/widget.js\";\n\n    script.async = true;\n    script.setAttribute(\"data-userid\", formData.userId);\n    script.setAttribute(\"data-access_token\", formData.access_token);\n    script.setAttribute('data-session_token','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2ODYyNDU4OTA2OGZmNWZlYTc0Y2Y3YmUiLCJpYXQiOjE3NTEyNzUxODEsImV4cCI6MTc1MTM2MTU4MSwiZG9tYWlucyI6WyJodHRwOi8vbG9jYWxob3N0OjMwMDAiXX0.oeV8gK8DDy6IDA7vvzyFj-N5Ln47NgeFFb0dnAmzSnU')\n    document.body.appendChild(script);\n\n    // Inject style.css\n    const link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    // link.href = \"http://localhost:4000/deduction/deductionWidget.css\";\n    link.href = \"http://localhost:4000/widgets/style.css\";\n\n    //  link.href = \"https://appweb-bucket.s3.us-east-1.amazonaws.com/widget/public/widgets/style.css\";\n\n    link.id = \"widget-style\";\n    document.head.appendChild(link);\n\n    return () => {\n      script.remove();\n      link.remove();\n      const widgetContainer = document.getElementById(\"widget-container\");\n      if (widgetContainer) widgetContainer.remove();\n    };\n  }, [showClientAuthForm, formData.userId, formData.access_token]);\n\n  return (\n    <div\n      className={\n        widgetError != null || showClientAuthForm ? \"\" : \"auth-form-container\"\n      }\n    >\n      {widgetError == null && !showClientAuthForm && (\n        <form onSubmit={handleSubmit} noValidate className=\"auth-form\">\n          <h2 className=\"form-title\">Authentication Form</h2>\n          <div className=\"form-group\">\n            <label className=\"block text-sm font-semibold text-gray-700\">\n              User ID\n            </label>\n            <input\n              type=\"text\"\n              name=\"userId\"\n              value={formData.userId}\n              onChange={handleChange}\n              className=\"w-full px-4 py-2 mt-1 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            {errors.userId && (\n              <p className=\"text-sm text-red-500 mt-1\">{errors.userId}</p>\n            )}\n          </div>\n\n          <div className=\"form-group\">\n            <label>Access Token</label>\n            <input\n              type=\"text\"\n              name=\"access_token\"\n              value={formData.access_token}\n              onChange={handleChange}\n            />\n            {errors.access_token && (\n              <p className=\"error\">{errors.access_token}</p>\n            )}\n          </div>\n\n          <button type=\"submit\" className=\"submit-btn\" disabled={loading}>\n            {loading ? \"Loading...\" : \"Add\"}\n          </button>\n        </form>\n      )}\n\n    </div>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { useEffect, useState } from \"react\";\n\n// interface Props {\n//   userId: string;\n//   access_token: string;\n//   session_token: string;\n//   onError?: (msg: string) => void;\n// }\n\n// const PotentialDeductions = () => {\n//   const [transactions, setTransactions] = useState<any[]>([]);\n//   const [activeCategoryIndex, setActiveCategoryIndex] = useState<number>(0);\n//   const [isOpen, setIsOpen] = useState(false);\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState(\"\");\n\n\n\n//   const groupByField = (dataArray: any, groupKey: any) => {\n//     if (!Array.isArray(dataArray)) {\n//       throw new Error(\"First argument must be an array\");\n//     }\n\n//     const grouped: any = [];\n\n//     dataArray.forEach((item) => {\n//       const key = item[groupKey] || \"schedule C\";\n//       if (!grouped[key]) {\n//         grouped[key] = [];\n//       }\n//       grouped[key].push(item);\n//     });\n\n//     return grouped;\n//   }\n\n//   const fetchTransactions = async (userId: string) => {\n//     setLoading(true);\n//     try {\n//       const data: any = await fetch(`https://dev-categorization.musetax.com/v2/api/potential-deductions/${userId}`, {\n//         method: \"GET\",\n\n//       }).then(async (data) => {\n//         const data1 = await data.json();\n//         const scheduleData = groupByField(data1.deductions, data1.deductions[0].schedule || 'schedule c')\n//         console.log(scheduleData, \"scheduleData\");\n\n//         setTransactions(scheduleData);\n//         console.log(data1,\n//           'dshjchduv'\n//         )\n\n//       })\n\n//       const raja = await data.json()\n//       const response = data.data.json()\n//       console.log(response, \"wuhdwuk\", raja)\n//       // setTransactions(data.body || []);\n//       // if (data?.detail) {\n//       //   const msg = data.detail;\n//       //   setError(msg);\n//       //   // onError?.(msg);\n//       //  } else {\n\n//       //   setTransactions(data || []);\n//       // }\n//     } catch (error: any) {\n//       const msg = \"Failed to fetch transactions.\";\n//       // setError(msg);\n//       // onError?.(msg);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   useEffect(() => {\n//     fetchTransactions('68624589068ff5fea74cf7be')\n//   }, [])\n//   const objectKey:any=Object.keys(transactions)\n//   const activeDeductions = transactions[objectKey[activeCategoryIndex]];\n//   console.log(activeDeductions, \"transactionstransactions\");\n//   let total = 0;\n//  let savings = 0;\n//  if(activeDeductions)   \n// {activeDeductions.forEach((d: any) => {\n//   console.log(d);\n\n//   total += d.total_amount || 0;\n//   savings += d.potential_deduction || 0;\n// });}\n\n\n//   const label = (total - savings).toFixed(2);\n\n//   return (\n//     <>\n//       <div\n//         style={{\n//           position: \"fixed\",\n//           bottom: \"20px\",\n//           right: \"20px\",\n//           width: \"60px\",\n//           height: \"60px\",\n//           backgroundColor: \"#007bff\",\n//           borderRadius: \"50%\",\n//           display: \"flex\",\n//           justifyContent: \"center\",\n//           alignItems: \"center\",\n//           cursor: \"pointer\",\n//           zIndex: 9999,\n//           color: \"#fff\",\n//           fontSize: \"28px\",\n//           boxShadow: \"0 4px 5px rgba(0, 0, 0, 0.3)\",\n//         }}\n//         onClick={() => setIsOpen(!isOpen)}\n//         title=\"Open Auth Widget\"\n//       >\n//         ðŸ’¬\n//       </div>\n\n//       {isOpen && (\n//         <div\n//           style={{\n//             position: \"fixed\",\n//             bottom: \"90px\",\n//             right: \"20px\",\n//             width: \"68rem\",\n//             maxHeight: \"70vh\",\n//             zIndex: 9998,\n//             overflowY: \"auto\",\n//           }}\n//         >\n//           {error ? (\n//             <div\n//               style={{\n//                 paddingTop: \"200px\",\n//                 minHeight: \"500px\",\n//               }}\n//             >\n//               ''\n//               <p>{error}</p>\n//             </div>\n//           ) : (\n//             <div\n//               style={{\n//                 maxWidth: 1200,\n//                 margin: \"auto\",\n//                 border: \"1px solid #ccc\",\n//                 borderRadius: 16,\n//                 overflow: \"hidden\",\n//               }}\n//             >\n//               <div\n//                 style={{\n//                   backgroundColor: \"#F1F7FB\",\n//                   padding: \"16px 24px\",\n//                   display: \"flex\",\n//                   justifyContent: \"space-between\",\n//                   alignItems: \"center\",\n//                   borderBottom: \"1px solid #BFDBFE\",\n//                 }}\n//               >\n//                 <h2\n//                   style={{\n//                     fontSize: 20,\n//                     fontWeight: 500,\n//                     color: \"#042567\",\n//                     margin: 0,\n//                   }}\n//                 >\n//                   Potential Deductions Analysis\n//                 </h2>\n//                 <span\n//                   style={{\n//                     fontSize: 14,\n//                     color: \"#6B7280\",\n//                     display: \"flex\",\n//                     alignItems: \"center\",\n//                     gap: 4,\n//                   }}\n//                 >\n//                   <span\n//                     style={{\n//                       width: 8,\n//                       height: 8,\n//                       borderRadius: \"50%\",\n//                       backgroundColor: \"#687DF7\",\n//                       display: \"inline-block\",\n//                     }}\n//                   />\n//                   Analysis complete\n//                 </span>\n//               </div>\n\n//               {loading ? (\n//                 <p\n//                   style={{\n//                     fontSize: \"0.875rem\",\n//                     color: \"#526282\",\n//                     margin: 0,\n//                     display: \"flex\",\n//                     justifyContent: \"center\",\n//                     width: \"100%\",\n//                   }}\n//                 >\n//                   Loadingâ€¦\n//                 </p>\n//               ) : (\n//                 <div style={{ padding: 24 }}>\n//                   {/* Tabs */}\n//                   <div style={{ marginBottom: 24, display: \"flex\", gap: 8 }}>\n//                     {Object.keys(transactions).map((cat, index) => (\n//                       <button\n//                         key={index}\n//                         onClick={() => setActiveCategoryIndex(index)}\n//                         style={{\n//                           border: \"1px solid #5387F1\",\n//                           padding: \"12px 16px\",\n//                           fontSize: 14,\n//                           fontWeight: 500,\n//                           borderRadius: 8,\n//                           backgroundColor:\n//                             activeCategoryIndex === index ? \"#5387F1\" : \"white\",\n//                           color:\n//                             activeCategoryIndex === index ? \"white\" : \"#5387F1\",\n//                           cursor: \"pointer\",\n//                         }}\n//                       >\n//                         {cat}\n//                       </button>\n//                     ))}\n//                   </div>\n\n//                   {/* Deduction Details */}\n//                   {activeDeductions.map((activeDeduction: any) => (<>\n//                     <div\n//                       style={{\n//                         border: \"1px solid rgba(30, 64, 175, 0.1)\",\n//                         borderRadius: 16,\n//                         padding: 16,\n//                         margin: \"12px 0\",\n//                       }}\n//                     >\n//                       <h3 style={{ marginBottom: 8, color: \"#042567\" }}>\n//                         {activeDeduction?.title}\n//                       </h3>\n//                       <p style={{ color: \"#526282\", marginBottom: 4 }}>\n//                         {activeDeduction?.description}\n//                       </p>\n//                       <p style={{ color: \"#5A83F3\", fontSize: 12 }}>\n//                         Debit transactions:{\" \"}\n//                         {activeDeduction?.debit_transaction_count}, Credit\n//                         transactions: {activeDeduction?.credit_transaction_count}\n//                       </p>\n//                       <div\n//                         style={{\n//                           marginTop: 16,\n//                           display: \"flex\",\n//                           justifyContent: \"space-between\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500, color: \"#5A83F3\" }}>\n//                           Total Spent: ${activeDeduction?.total_amount}\n//                         </div>\n//                         <div style={{ fontWeight: 500, color: \"#5387F1\" }}>\n//                           Potential Deduction: $\n//                           {activeDeduction?.potential_deduction}\n//                         </div>\n//                       </div>\n//                     </div>\n//                   </>))}\n\n//                   {/* Individual Transactions (Optional) */}\n//                   <div>\n//                     {/* {activeDeductions?.map((txn: any, i: any) => ( */}\n//                       <div\n//                         // key={i}\n//                         style={{\n//                           borderBottom: \"1px solid #eee\",\n//                           padding: \"12px 0\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500 }}>\n//                           Total potenial deduction: $${savings}\n//                         </div>\n//                         <div style={{ fontSize: 12, color: \"#666\" }}>\n//                          Total amount: $${total}\n//                         </div>\n//                       </div>\n//                     {/* ))} */}\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           )}\n//         </div>\n//       )}\n//     </>\n//   );\n// };\n\n// export default PotentialDeductions;\n"],"mappings":"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;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAApD,EAAA,CA1dwBD,QAAQ;AAAAwD,EAAA,GAARxD,QAAQ;AAAA,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}