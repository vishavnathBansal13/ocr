{"ast":null,"code":"import _objectSpread from\"/home/webexpert/Desktop/colin/tes/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from\"react\";import\"./AuthForm.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AuthForm(){const[formData,setFormData]=useState({userId:\"\",access_token:\"\"});const[loading,setLoading]=useState(false);const[errors,setErrors]=useState({});const[widgetError,setWidgetError]=useState(null);const[showClientAuthForm,setShowClientAuthForm]=useState(false);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));setErrors(prevErrors=>{const newErrors=_objectSpread({},prevErrors);if(newErrors[name]){delete newErrors[name];}return newErrors;});};const handleSubmit=e=>{e.preventDefault();setWidgetError(null);setLoading(true);const newErrors={};if(!formData.userId)newErrors.userId=\"User ID is required.\";if(!formData.access_token)newErrors.access_token=\"Access Token is required.\";if(Object.keys(newErrors).length>0){setErrors(newErrors);setShowClientAuthForm(false);setLoading(false);// Don't forget to stop loading on error\n}else{setErrors({});setShowClientAuthForm(true);// Let the widget handle further async work â€” stop loading right after form show\nsetLoading(false);}};useEffect(()=>{if(!showClientAuthForm){// Cleanup if widget is not shown\nconst existingScript=document.getElementById(\"widget-script\");if(existingScript)existingScript.remove();const existingLink=document.getElementById(\"widget-style\");if(existingLink)existingLink.remove();const widgetContainer=document.getElementById(\"widget-container\");if(widgetContainer)widgetContainer.remove();return;}// Prevent double-inject\nif(document.getElementById(\"widget-script\"))return;// Inject widget.js with user data attributes\nconst script=document.createElement(\"script\");script.type=\"module\";script.id=\"widget-script\";//  script.src = \"http://localhost:5173/deduction/initDeductionWidget.js\";\n// script.src = \"http://localhost:5173/widgets/widget.js\";\n// script.src = \"http://localhost:5173/historicalAnalysis/historicalWidget.js\";\nscript.src=\"http://localhost:5173/widgets/widgetLauncher.js\";//  script.src = \"https://appweb-bucket.s3.us-east-1.amazonaws.com/widget/public/widgets/widget.js\";\nscript.async=true;script.setAttribute(\"data-userid\",formData.userId);script.setAttribute(\"data-access_token\",formData.access_token);script.setAttribute('data-session_token','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2ODY2M2JiNDJhN2JkNjZjYzdiZWYxMTUiLCJpYXQiOjE3NTE1MzA0MjEsImV4cCI6MTc1MTYxNjgyMSwiZG9tYWlucyI6WyJodHRwOi8vbG9jYWxob3N0OjMwMDAiXX0.BJiBCxUkCPMjXNNBHZnEeiNX5eZ-lJuh-L_xD8hi8UQ');document.body.appendChild(script);// Inject style.css\nconst link=document.createElement(\"link\");link.rel=\"stylesheet\";link.href=\"http://localhost:5173/widgets/style.css\";//  link.href = \"http://localhost:5173/widgets/style.css\";\n//  link.href = \"http://localhost:5173/historicalAnalysis/style.css\";\n//  link.href = \"https://appweb-bucket.s3.us-east-1.amazonaws.com/widget/public/widgets/style.css\";\nlink.id=\"widget-style\";document.head.appendChild(link);return()=>{script.remove();link.remove();const widgetContainer=document.getElementById(\"widget-container\");if(widgetContainer)widgetContainer.remove();};},[showClientAuthForm,formData.userId,formData.access_token]);return/*#__PURE__*/_jsx(\"div\",{className:widgetError!=null||showClientAuthForm?\"\":\"auth-form-container\",children:widgetError==null&&!showClientAuthForm&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,noValidate:true,className:\"auth-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"form-title\",children:\"Authentication Form\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700\",children:\"User ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"userId\",value:formData.userId,onChange:handleChange,className:\"w-full px-4 py-2 mt-1 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"}),errors.userId&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-500 mt-1\",children:errors.userId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Access Token\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"access_token\",value:formData.access_token,onChange:handleChange}),errors.access_token&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.access_token})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",disabled:loading,children:loading?\"Loading...\":\"Add\"})]})});}// import React, { useEffect, useState } from \"react\";\n// interface Props {\n//   userId: string;\n//   access_token: string;\n//   session_token: string;\n//   onError?: (msg: string) => void;\n// }\n// const PotentialDeductions = () => {\n//   const [transactions, setTransactions] = useState<any[]>([]);\n//   const [activeCategoryIndex, setActiveCategoryIndex] = useState<number>(0);\n//   const [isOpen, setIsOpen] = useState(false);\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState(\"\");\n//   const groupByField = (dataArray: any, groupKey: any) => {\n//     if (!Array.isArray(dataArray)) {\n//       throw new Error(\"First argument must be an array\");\n//     }\n//     const grouped: any = [];\n//     dataArray.forEach((item) => {\n//       const key = item[groupKey] || \"schedule C\";\n//       if (!grouped[key]) {\n//         grouped[key] = [];\n//       }\n//       grouped[key].push(item);\n//     });\n//     return grouped;\n//   }\n//   const fetchTransactions = async (userId: string) => {\n//     setLoading(true);\n//     try {\n//       const data: any = await fetch(`https://dev-categorization.musetax.com/v2/api/potential-deductions/${userId}`, {\n//         method: \"GET\",\n//       }).then(async (data) => {\n//         const data1 = await data.json();\n//         const scheduleData = groupByField(data1.deductions, data1.deductions[0].schedule || 'schedule c')\n//         console.log(scheduleData, \"scheduleData\");\n//         setTransactions(scheduleData);\n//         console.log(data1,\n//           'dshjchduv'\n//         )\n//       })\n//       const raja = await data.json()\n//       const response = data.data.json()\n//       console.log(response, \"wuhdwuk\", raja)\n//       // setTransactions(data.body || []);\n//       // if (data?.detail) {\n//       //   const msg = data.detail;\n//       //   setError(msg);\n//       //   // onError?.(msg);\n//       //  } else {\n//       //   setTransactions(data || []);\n//       // }\n//     } catch (error: any) {\n//       const msg = \"Failed to fetch transactions.\";\n//       // setError(msg);\n//       // onError?.(msg);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   useEffect(() => {\n//     fetchTransactions('68624589068ff5fea74cf7be')\n//   }, [])\n//   const objectKey:any=Object.keys(transactions)\n//   const activeDeductions = transactions[objectKey[activeCategoryIndex]];\n//   console.log(activeDeductions, \"transactionstransactions\");\n//   let total = 0;\n//  let savings = 0;\n//  if(activeDeductions)   \n// {activeDeductions.forEach((d: any) => {\n//   console.log(d);\n//   total += d.total_amount || 0;\n//   savings += d.potential_deduction || 0;\n// });}\n//   const label = (total - savings).toFixed(2);\n//   return (\n//     <>\n//       <div\n//         style={{\n//           position: \"fixed\",\n//           bottom: \"20px\",\n//           right: \"20px\",\n//           width: \"60px\",\n//           height: \"60px\",\n//           backgroundColor: \"#007bff\",\n//           borderRadius: \"50%\",\n//           display: \"flex\",\n//           justifyContent: \"center\",\n//           alignItems: \"center\",\n//           cursor: \"pointer\",\n//           zIndex: 9999,\n//           color: \"#fff\",\n//           fontSize: \"28px\",\n//           boxShadow: \"0 4px 5px rgba(0, 0, 0, 0.3)\",\n//         }}\n//         onClick={() => setIsOpen(!isOpen)}\n//         title=\"Open Auth Widget\"\n//       >\n//         ðŸ’¬\n//       </div>\n//       {isOpen && (\n//         <div\n//           style={{\n//             position: \"fixed\",\n//             bottom: \"90px\",\n//             right: \"20px\",\n//             width: \"68rem\",\n//             maxHeight: \"70vh\",\n//             zIndex: 9998,\n//             overflowY: \"auto\",\n//           }}\n//         >\n//           {error ? (\n//             <div\n//               style={{\n//                 paddingTop: \"200px\",\n//                 minHeight: \"500px\",\n//               }}\n//             >\n//               ''\n//               <p>{error}</p>\n//             </div>\n//           ) : (\n//             <div\n//               style={{\n//                 maxWidth: 1200,\n//                 margin: \"auto\",\n//                 border: \"1px solid #ccc\",\n//                 borderRadius: 16,\n//                 overflow: \"hidden\",\n//               }}\n//             >\n//               <div\n//                 style={{\n//                   backgroundColor: \"#F1F7FB\",\n//                   padding: \"16px 24px\",\n//                   display: \"flex\",\n//                   justifyContent: \"space-between\",\n//                   alignItems: \"center\",\n//                   borderBottom: \"1px solid #BFDBFE\",\n//                 }}\n//               >\n//                 <h2\n//                   style={{\n//                     fontSize: 20,\n//                     fontWeight: 500,\n//                     color: \"#042567\",\n//                     margin: 0,\n//                   }}\n//                 >\n//                   Potential Deductions Analysis\n//                 </h2>\n//                 <span\n//                   style={{\n//                     fontSize: 14,\n//                     color: \"#6B7280\",\n//                     display: \"flex\",\n//                     alignItems: \"center\",\n//                     gap: 4,\n//                   }}\n//                 >\n//                   <span\n//                     style={{\n//                       width: 8,\n//                       height: 8,\n//                       borderRadius: \"50%\",\n//                       backgroundColor: \"#687DF7\",\n//                       display: \"inline-block\",\n//                     }}\n//                   />\n//                   Analysis complete\n//                 </span>\n//               </div>\n//               {loading ? (\n//                 <p\n//                   style={{\n//                     fontSize: \"0.875rem\",\n//                     color: \"#526282\",\n//                     margin: 0,\n//                     display: \"flex\",\n//                     justifyContent: \"center\",\n//                     width: \"100%\",\n//                   }}\n//                 >\n//                   Loadingâ€¦\n//                 </p>\n//               ) : (\n//                 <div style={{ padding: 24 }}>\n//                   {/* Tabs */}\n//                   <div style={{ marginBottom: 24, display: \"flex\", gap: 8 }}>\n//                     {Object.keys(transactions).map((cat, index) => (\n//                       <button\n//                         key={index}\n//                         onClick={() => setActiveCategoryIndex(index)}\n//                         style={{\n//                           border: \"1px solid #5387F1\",\n//                           padding: \"12px 16px\",\n//                           fontSize: 14,\n//                           fontWeight: 500,\n//                           borderRadius: 8,\n//                           backgroundColor:\n//                             activeCategoryIndex === index ? \"#5387F1\" : \"white\",\n//                           color:\n//                             activeCategoryIndex === index ? \"white\" : \"#5387F1\",\n//                           cursor: \"pointer\",\n//                         }}\n//                       >\n//                         {cat}\n//                       </button>\n//                     ))}\n//                   </div>\n//                   {/* Deduction Details */}\n//                   {activeDeductions.map((activeDeduction: any) => (<>\n//                     <div\n//                       style={{\n//                         border: \"1px solid rgba(30, 64, 175, 0.1)\",\n//                         borderRadius: 16,\n//                         padding: 16,\n//                         margin: \"12px 0\",\n//                       }}\n//                     >\n//                       <h3 style={{ marginBottom: 8, color: \"#042567\" }}>\n//                         {activeDeduction?.title}\n//                       </h3>\n//                       <p style={{ color: \"#526282\", marginBottom: 4 }}>\n//                         {activeDeduction?.description}\n//                       </p>\n//                       <p style={{ color: \"#5A83F3\", fontSize: 12 }}>\n//                         Debit transactions:{\" \"}\n//                         {activeDeduction?.debit_transaction_count}, Credit\n//                         transactions: {activeDeduction?.credit_transaction_count}\n//                       </p>\n//                       <div\n//                         style={{\n//                           marginTop: 16,\n//                           display: \"flex\",\n//                           justifyContent: \"space-between\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500, color: \"#5A83F3\" }}>\n//                           Total Spent: ${activeDeduction?.total_amount}\n//                         </div>\n//                         <div style={{ fontWeight: 500, color: \"#5387F1\" }}>\n//                           Potential Deduction: $\n//                           {activeDeduction?.potential_deduction}\n//                         </div>\n//                       </div>\n//                     </div>\n//                   </>))}\n//                   {/* Individual Transactions (Optional) */}\n//                   <div>\n//                     {/* {activeDeductions?.map((txn: any, i: any) => ( */}\n//                       <div\n//                         // key={i}\n//                         style={{\n//                           borderBottom: \"1px solid #eee\",\n//                           padding: \"12px 0\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500 }}>\n//                           Total potenial deduction: $${savings}\n//                         </div>\n//                         <div style={{ fontSize: 12, color: \"#666\" }}>\n//                          Total amount: $${total}\n//                         </div>\n//                       </div>\n//                     {/* ))} */}\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           )}\n//         </div>\n//       )}\n//     </>\n//   );\n// };\n// export default PotentialDeductions;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","AuthForm","formData","setFormData","userId","access_token","loading","setLoading","errors","setErrors","widgetError","setWidgetError","showClientAuthForm","setShowClientAuthForm","handleChange","e","name","value","target","prev","_objectSpread","prevErrors","newErrors","handleSubmit","preventDefault","Object","keys","length","existingScript","document","getElementById","remove","existingLink","widgetContainer","script","createElement","type","id","src","async","setAttribute","body","appendChild","link","rel","href","head","className","children","onSubmit","noValidate","onChange","disabled"],"sources":["/home/webexpert/Desktop/colin/tes/src/App.tsx"],"sourcesContent":["import { useState, ChangeEvent, FormEvent, useEffect } from \"react\";\nimport \"./AuthForm.css\";\n\ninterface FormData {\n  userId: string;\n  access_token: string;\n}\n\ninterface FormErrors {\n  userId?: string;\n  access_token?: string;\n}\n\nexport default function AuthForm() {\n  const [formData, setFormData] = useState<FormData>({\n    userId: \"\",\n    access_token: \"\",\n  });\n  const [loading, setLoading] = useState<boolean>(false);\n  const [errors, setErrors] = useState<FormErrors>({});\n  const [widgetError, setWidgetError] = useState<string | null>(null);\n  const [showClientAuthForm, setShowClientAuthForm] = useState<boolean>(false);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n\n    setFormData((prev) => ({ ...prev, [name]: value }));\n\n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n      if (newErrors[name as keyof FormErrors]) {\n        delete newErrors[name as keyof FormErrors];\n      }\n      return newErrors;\n    });\n  };\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setWidgetError(null);\n    setLoading(true);\n\n    const newErrors: FormErrors = {};\n    if (!formData.userId) newErrors.userId = \"User ID is required.\";\n    if (!formData.access_token)\n      newErrors.access_token = \"Access Token is required.\";\n\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      setShowClientAuthForm(false);\n      setLoading(false); // Don't forget to stop loading on error\n    } else {\n      setErrors({});\n      setShowClientAuthForm(true);\n      // Let the widget handle further async work â€” stop loading right after form show\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!showClientAuthForm) {\n      // Cleanup if widget is not shown\n      const existingScript = document.getElementById(\"widget-script\");\n      if (existingScript) existingScript.remove();\n      const existingLink = document.getElementById(\"widget-style\");\n      if (existingLink) existingLink.remove();\n      const widgetContainer = document.getElementById(\"widget-container\");\n      if (widgetContainer) widgetContainer.remove();\n      return;\n    }\n\n    // Prevent double-inject\n    if (document.getElementById(\"widget-script\")) return;\n\n    // Inject widget.js with user data attributes\n    const script = document.createElement(\"script\");\n    script.type = \"module\";\n    script.id = \"widget-script\";\n    //  script.src = \"http://localhost:5173/deduction/initDeductionWidget.js\";\n      // script.src = \"http://localhost:5173/widgets/widget.js\";\n      // script.src = \"http://localhost:5173/historicalAnalysis/historicalWidget.js\";\n    script.src =\"http://localhost:5173/widgets/widgetLauncher.js\"\n     //  script.src = \"https://appweb-bucket.s3.us-east-1.amazonaws.com/widget/public/widgets/widget.js\";\n\n    script.async = true;\n    script.setAttribute(\"data-userid\", formData.userId);\n    script.setAttribute(\"data-access_token\", formData.access_token);\n    script.setAttribute('data-session_token','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2ODY2M2JiNDJhN2JkNjZjYzdiZWYxMTUiLCJpYXQiOjE3NTE1MzA0MjEsImV4cCI6MTc1MTYxNjgyMSwiZG9tYWlucyI6WyJodHRwOi8vbG9jYWxob3N0OjMwMDAiXX0.BJiBCxUkCPMjXNNBHZnEeiNX5eZ-lJuh-L_xD8hi8UQ')\n    document.body.appendChild(script);\n\n    // Inject style.css\n    const link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n   link.href = \"http://localhost:5173/widgets/style.css\";\n    //  link.href = \"http://localhost:5173/widgets/style.css\";\n    //  link.href = \"http://localhost:5173/historicalAnalysis/style.css\";\n\n    //  link.href = \"https://appweb-bucket.s3.us-east-1.amazonaws.com/widget/public/widgets/style.css\";\n\n    link.id = \"widget-style\";\n    document.head.appendChild(link);\n\n    return () => {\n      script.remove();\n      link.remove();\n      const widgetContainer = document.getElementById(\"widget-container\");\n      if (widgetContainer) widgetContainer.remove();\n    };\n  }, [showClientAuthForm, formData.userId, formData.access_token]);\n\n  return (\n    <div\n      className={\n        widgetError != null || showClientAuthForm ? \"\" : \"auth-form-container\"\n      }\n    >\n      {widgetError == null && !showClientAuthForm && (\n        <form onSubmit={handleSubmit} noValidate className=\"auth-form\">\n          <h2 className=\"form-title\">Authentication Form</h2>\n          <div className=\"form-group\">\n            <label className=\"block text-sm font-semibold text-gray-700\">\n              User ID\n            </label>\n            <input\n              type=\"text\"\n              name=\"userId\"\n              value={formData.userId}\n              onChange={handleChange}\n              className=\"w-full px-4 py-2 mt-1 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            {errors.userId && (\n              <p className=\"text-sm text-red-500 mt-1\">{errors.userId}</p>\n            )}\n          </div>\n\n          <div className=\"form-group\">\n            <label>Access Token</label>\n            <input\n              type=\"text\"\n              name=\"access_token\"\n              value={formData.access_token}\n              onChange={handleChange}\n            />\n            {errors.access_token && (\n              <p className=\"error\">{errors.access_token}</p>\n            )}\n          </div>\n\n          <button type=\"submit\" className=\"submit-btn\" disabled={loading}>\n            {loading ? \"Loading...\" : \"Add\"}\n          </button>\n        </form>\n      )}\n\n    </div>\n  );\n}\n\n\n\n// import React, { useEffect, useState } from \"react\";\n\n// interface Props {\n//   userId: string;\n//   access_token: string;\n//   session_token: string;\n//   onError?: (msg: string) => void;\n// }\n\n// const PotentialDeductions = () => {\n//   const [transactions, setTransactions] = useState<any[]>([]);\n//   const [activeCategoryIndex, setActiveCategoryIndex] = useState<number>(0);\n//   const [isOpen, setIsOpen] = useState(false);\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState(\"\");\n\n\n\n//   const groupByField = (dataArray: any, groupKey: any) => {\n//     if (!Array.isArray(dataArray)) {\n//       throw new Error(\"First argument must be an array\");\n//     }\n\n//     const grouped: any = [];\n\n//     dataArray.forEach((item) => {\n//       const key = item[groupKey] || \"schedule C\";\n//       if (!grouped[key]) {\n//         grouped[key] = [];\n//       }\n//       grouped[key].push(item);\n//     });\n\n//     return grouped;\n//   }\n\n//   const fetchTransactions = async (userId: string) => {\n//     setLoading(true);\n//     try {\n//       const data: any = await fetch(`https://dev-categorization.musetax.com/v2/api/potential-deductions/${userId}`, {\n//         method: \"GET\",\n\n//       }).then(async (data) => {\n//         const data1 = await data.json();\n//         const scheduleData = groupByField(data1.deductions, data1.deductions[0].schedule || 'schedule c')\n//         console.log(scheduleData, \"scheduleData\");\n\n//         setTransactions(scheduleData);\n//         console.log(data1,\n//           'dshjchduv'\n//         )\n\n//       })\n\n//       const raja = await data.json()\n//       const response = data.data.json()\n//       console.log(response, \"wuhdwuk\", raja)\n//       // setTransactions(data.body || []);\n//       // if (data?.detail) {\n//       //   const msg = data.detail;\n//       //   setError(msg);\n//       //   // onError?.(msg);\n//       //  } else {\n\n//       //   setTransactions(data || []);\n//       // }\n//     } catch (error: any) {\n//       const msg = \"Failed to fetch transactions.\";\n//       // setError(msg);\n//       // onError?.(msg);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   useEffect(() => {\n//     fetchTransactions('68624589068ff5fea74cf7be')\n//   }, [])\n//   const objectKey:any=Object.keys(transactions)\n//   const activeDeductions = transactions[objectKey[activeCategoryIndex]];\n//   console.log(activeDeductions, \"transactionstransactions\");\n//   let total = 0;\n//  let savings = 0;\n//  if(activeDeductions)   \n// {activeDeductions.forEach((d: any) => {\n//   console.log(d);\n\n//   total += d.total_amount || 0;\n//   savings += d.potential_deduction || 0;\n// });}\n\n\n//   const label = (total - savings).toFixed(2);\n\n//   return (\n//     <>\n//       <div\n//         style={{\n//           position: \"fixed\",\n//           bottom: \"20px\",\n//           right: \"20px\",\n//           width: \"60px\",\n//           height: \"60px\",\n//           backgroundColor: \"#007bff\",\n//           borderRadius: \"50%\",\n//           display: \"flex\",\n//           justifyContent: \"center\",\n//           alignItems: \"center\",\n//           cursor: \"pointer\",\n//           zIndex: 9999,\n//           color: \"#fff\",\n//           fontSize: \"28px\",\n//           boxShadow: \"0 4px 5px rgba(0, 0, 0, 0.3)\",\n//         }}\n//         onClick={() => setIsOpen(!isOpen)}\n//         title=\"Open Auth Widget\"\n//       >\n//         ðŸ’¬\n//       </div>\n\n//       {isOpen && (\n//         <div\n//           style={{\n//             position: \"fixed\",\n//             bottom: \"90px\",\n//             right: \"20px\",\n//             width: \"68rem\",\n//             maxHeight: \"70vh\",\n//             zIndex: 9998,\n//             overflowY: \"auto\",\n//           }}\n//         >\n//           {error ? (\n//             <div\n//               style={{\n//                 paddingTop: \"200px\",\n//                 minHeight: \"500px\",\n//               }}\n//             >\n//               ''\n//               <p>{error}</p>\n//             </div>\n//           ) : (\n//             <div\n//               style={{\n//                 maxWidth: 1200,\n//                 margin: \"auto\",\n//                 border: \"1px solid #ccc\",\n//                 borderRadius: 16,\n//                 overflow: \"hidden\",\n//               }}\n//             >\n//               <div\n//                 style={{\n//                   backgroundColor: \"#F1F7FB\",\n//                   padding: \"16px 24px\",\n//                   display: \"flex\",\n//                   justifyContent: \"space-between\",\n//                   alignItems: \"center\",\n//                   borderBottom: \"1px solid #BFDBFE\",\n//                 }}\n//               >\n//                 <h2\n//                   style={{\n//                     fontSize: 20,\n//                     fontWeight: 500,\n//                     color: \"#042567\",\n//                     margin: 0,\n//                   }}\n//                 >\n//                   Potential Deductions Analysis\n//                 </h2>\n//                 <span\n//                   style={{\n//                     fontSize: 14,\n//                     color: \"#6B7280\",\n//                     display: \"flex\",\n//                     alignItems: \"center\",\n//                     gap: 4,\n//                   }}\n//                 >\n//                   <span\n//                     style={{\n//                       width: 8,\n//                       height: 8,\n//                       borderRadius: \"50%\",\n//                       backgroundColor: \"#687DF7\",\n//                       display: \"inline-block\",\n//                     }}\n//                   />\n//                   Analysis complete\n//                 </span>\n//               </div>\n\n//               {loading ? (\n//                 <p\n//                   style={{\n//                     fontSize: \"0.875rem\",\n//                     color: \"#526282\",\n//                     margin: 0,\n//                     display: \"flex\",\n//                     justifyContent: \"center\",\n//                     width: \"100%\",\n//                   }}\n//                 >\n//                   Loadingâ€¦\n//                 </p>\n//               ) : (\n//                 <div style={{ padding: 24 }}>\n//                   {/* Tabs */}\n//                   <div style={{ marginBottom: 24, display: \"flex\", gap: 8 }}>\n//                     {Object.keys(transactions).map((cat, index) => (\n//                       <button\n//                         key={index}\n//                         onClick={() => setActiveCategoryIndex(index)}\n//                         style={{\n//                           border: \"1px solid #5387F1\",\n//                           padding: \"12px 16px\",\n//                           fontSize: 14,\n//                           fontWeight: 500,\n//                           borderRadius: 8,\n//                           backgroundColor:\n//                             activeCategoryIndex === index ? \"#5387F1\" : \"white\",\n//                           color:\n//                             activeCategoryIndex === index ? \"white\" : \"#5387F1\",\n//                           cursor: \"pointer\",\n//                         }}\n//                       >\n//                         {cat}\n//                       </button>\n//                     ))}\n//                   </div>\n\n//                   {/* Deduction Details */}\n//                   {activeDeductions.map((activeDeduction: any) => (<>\n//                     <div\n//                       style={{\n//                         border: \"1px solid rgba(30, 64, 175, 0.1)\",\n//                         borderRadius: 16,\n//                         padding: 16,\n//                         margin: \"12px 0\",\n//                       }}\n//                     >\n//                       <h3 style={{ marginBottom: 8, color: \"#042567\" }}>\n//                         {activeDeduction?.title}\n//                       </h3>\n//                       <p style={{ color: \"#526282\", marginBottom: 4 }}>\n//                         {activeDeduction?.description}\n//                       </p>\n//                       <p style={{ color: \"#5A83F3\", fontSize: 12 }}>\n//                         Debit transactions:{\" \"}\n//                         {activeDeduction?.debit_transaction_count}, Credit\n//                         transactions: {activeDeduction?.credit_transaction_count}\n//                       </p>\n//                       <div\n//                         style={{\n//                           marginTop: 16,\n//                           display: \"flex\",\n//                           justifyContent: \"space-between\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500, color: \"#5A83F3\" }}>\n//                           Total Spent: ${activeDeduction?.total_amount}\n//                         </div>\n//                         <div style={{ fontWeight: 500, color: \"#5387F1\" }}>\n//                           Potential Deduction: $\n//                           {activeDeduction?.potential_deduction}\n//                         </div>\n//                       </div>\n//                     </div>\n//                   </>))}\n\n//                   {/* Individual Transactions (Optional) */}\n//                   <div>\n//                     {/* {activeDeductions?.map((txn: any, i: any) => ( */}\n//                       <div\n//                         // key={i}\n//                         style={{\n//                           borderBottom: \"1px solid #eee\",\n//                           padding: \"12px 0\",\n//                         }}\n//                       >\n//                         <div style={{ fontWeight: 500 }}>\n//                           Total potenial deduction: $${savings}\n//                         </div>\n//                         <div style={{ fontSize: 12, color: \"#666\" }}>\n//                          Total amount: $${total}\n//                         </div>\n//                       </div>\n//                     {/* ))} */}\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           )}\n//         </div>\n//       )}\n//     </>\n//   );\n// };\n\n// export default PotentialDeductions;\n"],"mappings":"sHAAA,OAASA,QAAQ,CAA0BC,SAAS,KAAQ,OAAO,CACnE,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAYxB,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CACjC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAW,CACjDS,MAAM,CAAE,EAAE,CACVC,YAAY,CAAE,EAChB,CAAC,CAAC,CACF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAU,KAAK,CAAC,CACtD,KAAM,CAACa,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAa,CAAC,CAAC,CAAC,CACpD,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAgB,IAAI,CAAC,CACnE,KAAM,CAACiB,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGlB,QAAQ,CAAU,KAAK,CAAC,CAE5E,KAAM,CAAAmB,YAAY,CAAIC,CAAgC,EAAK,CACzD,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAEhCf,WAAW,CAAEgB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAE,CAACH,IAAI,EAAGC,KAAK,EAAG,CAAC,CAEnDR,SAAS,CAAEY,UAAU,EAAK,CACxB,KAAM,CAAAC,SAAS,CAAAF,aAAA,IAAQC,UAAU,CAAE,CACnC,GAAIC,SAAS,CAACN,IAAI,CAAqB,CAAE,CACvC,MAAO,CAAAM,SAAS,CAACN,IAAI,CAAqB,CAC5C,CACA,MAAO,CAAAM,SAAS,CAClB,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIR,CAA6B,EAAK,CACtDA,CAAC,CAACS,cAAc,CAAC,CAAC,CAClBb,cAAc,CAAC,IAAI,CAAC,CACpBJ,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAe,SAAqB,CAAG,CAAC,CAAC,CAChC,GAAI,CAACpB,QAAQ,CAACE,MAAM,CAAEkB,SAAS,CAAClB,MAAM,CAAG,sBAAsB,CAC/D,GAAI,CAACF,QAAQ,CAACG,YAAY,CACxBiB,SAAS,CAACjB,YAAY,CAAG,2BAA2B,CAEtD,GAAIoB,MAAM,CAACC,IAAI,CAACJ,SAAS,CAAC,CAACK,MAAM,CAAG,CAAC,CAAE,CACrClB,SAAS,CAACa,SAAS,CAAC,CACpBT,qBAAqB,CAAC,KAAK,CAAC,CAC5BN,UAAU,CAAC,KAAK,CAAC,CAAE;AACrB,CAAC,IAAM,CACLE,SAAS,CAAC,CAAC,CAAC,CAAC,CACbI,qBAAqB,CAAC,IAAI,CAAC,CAC3B;AACAN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDX,SAAS,CAAC,IAAM,CACd,GAAI,CAACgB,kBAAkB,CAAE,CACvB;AACA,KAAM,CAAAgB,cAAc,CAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC,CAC/D,GAAIF,cAAc,CAAEA,cAAc,CAACG,MAAM,CAAC,CAAC,CAC3C,KAAM,CAAAC,YAAY,CAAGH,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAC5D,GAAIE,YAAY,CAAEA,YAAY,CAACD,MAAM,CAAC,CAAC,CACvC,KAAM,CAAAE,eAAe,CAAGJ,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,CACnE,GAAIG,eAAe,CAAEA,eAAe,CAACF,MAAM,CAAC,CAAC,CAC7C,OACF,CAEA;AACA,GAAIF,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC,CAAE,OAE9C;AACA,KAAM,CAAAI,MAAM,CAAGL,QAAQ,CAACM,aAAa,CAAC,QAAQ,CAAC,CAC/CD,MAAM,CAACE,IAAI,CAAG,QAAQ,CACtBF,MAAM,CAACG,EAAE,CAAG,eAAe,CAC3B;AACE;AACA;AACFH,MAAM,CAACI,GAAG,CAAE,iDAAiD,CAC5D;AAEDJ,MAAM,CAACK,KAAK,CAAG,IAAI,CACnBL,MAAM,CAACM,YAAY,CAAC,aAAa,CAAEtC,QAAQ,CAACE,MAAM,CAAC,CACnD8B,MAAM,CAACM,YAAY,CAAC,mBAAmB,CAAEtC,QAAQ,CAACG,YAAY,CAAC,CAC/D6B,MAAM,CAACM,YAAY,CAAC,oBAAoB,CAAC,8NAA8N,CAAC,CACxQX,QAAQ,CAACY,IAAI,CAACC,WAAW,CAACR,MAAM,CAAC,CAEjC;AACA,KAAM,CAAAS,IAAI,CAAGd,QAAQ,CAACM,aAAa,CAAC,MAAM,CAAC,CAC3CQ,IAAI,CAACC,GAAG,CAAG,YAAY,CACxBD,IAAI,CAACE,IAAI,CAAG,yCAAyC,CACpD;AACA;AAEA;AAEAF,IAAI,CAACN,EAAE,CAAG,cAAc,CACxBR,QAAQ,CAACiB,IAAI,CAACJ,WAAW,CAACC,IAAI,CAAC,CAE/B,MAAO,IAAM,CACXT,MAAM,CAACH,MAAM,CAAC,CAAC,CACfY,IAAI,CAACZ,MAAM,CAAC,CAAC,CACb,KAAM,CAAAE,eAAe,CAAGJ,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,CACnE,GAAIG,eAAe,CAAEA,eAAe,CAACF,MAAM,CAAC,CAAC,CAC/C,CAAC,CACH,CAAC,CAAE,CAACnB,kBAAkB,CAAEV,QAAQ,CAACE,MAAM,CAAEF,QAAQ,CAACG,YAAY,CAAC,CAAC,CAEhE,mBACEP,IAAA,QACEiD,SAAS,CACPrC,WAAW,EAAI,IAAI,EAAIE,kBAAkB,CAAG,EAAE,CAAG,qBAClD,CAAAoC,QAAA,CAEAtC,WAAW,EAAI,IAAI,EAAI,CAACE,kBAAkB,eACzCZ,KAAA,SAAMiD,QAAQ,CAAE1B,YAAa,CAAC2B,UAAU,MAACH,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC5DlD,IAAA,OAAIiD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cACnDhD,KAAA,QAAK+C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlD,IAAA,UAAOiD,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,SAE7D,CAAO,CAAC,cACRlD,IAAA,UACEsC,IAAI,CAAC,MAAM,CACXpB,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEf,QAAQ,CAACE,MAAO,CACvB+C,QAAQ,CAAErC,YAAa,CACvBiC,SAAS,CAAC,uGAAuG,CAClH,CAAC,CACDvC,MAAM,CAACJ,MAAM,eACZN,IAAA,MAAGiD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAExC,MAAM,CAACJ,MAAM,CAAI,CAC5D,EACE,CAAC,cAENJ,KAAA,QAAK+C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlD,IAAA,UAAAkD,QAAA,CAAO,cAAY,CAAO,CAAC,cAC3BlD,IAAA,UACEsC,IAAI,CAAC,MAAM,CACXpB,IAAI,CAAC,cAAc,CACnBC,KAAK,CAAEf,QAAQ,CAACG,YAAa,CAC7B8C,QAAQ,CAAErC,YAAa,CACxB,CAAC,CACDN,MAAM,CAACH,YAAY,eAClBP,IAAA,MAAGiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAExC,MAAM,CAACH,YAAY,CAAI,CAC9C,EACE,CAAC,cAENP,IAAA,WAAQsC,IAAI,CAAC,QAAQ,CAACW,SAAS,CAAC,YAAY,CAACK,QAAQ,CAAE9C,OAAQ,CAAA0C,QAAA,CAC5D1C,OAAO,CAAG,YAAY,CAAG,KAAK,CACzB,CAAC,EACL,CACP,CAEE,CAAC,CAEV,CAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}